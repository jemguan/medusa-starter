import{r as c,cC as uo,j as O,bo as so,aL as yt,cD as io,cE as ao,cF as co,cG as lo,cH as fo,cI as mo,cJ as po,cK as vo,b as bo,cL as go,m as nt,T as ht,bz as ho,ai as xo}from"./index-BZ3ouZyT.js";import{X as So}from"./x-mark-mini-BwnMkSg-.js";import{T as yo}from"./triangles-mini-_uM40wSP.js";import{P as Eo}from"./plus-mini-DC6oI0AW.js";var Co=Object.defineProperty,wo=Object.defineProperties,Po=Object.getOwnPropertyDescriptors,Et=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Zn=Object.prototype.propertyIsEnumerable,Sn=(e,t,r)=>t in e?Co(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,C=(e,t)=>{for(var r in t||(t={}))Jn.call(t,r)&&Sn(e,r,t[r]);if(Et)for(var r of Et(t))Zn.call(t,r)&&Sn(e,r,t[r]);return e},$=(e,t)=>wo(e,Po(t)),Z=(e,t)=>{var r={};for(var n in e)Jn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Et)for(var n of Et(e))t.indexOf(n)<0&&Zn.call(e,n)&&(r[n]=e[n]);return r},Io=Object.defineProperty,Oo=Object.defineProperties,Ao=Object.getOwnPropertyDescriptors,Ct=Object.getOwnPropertySymbols,Qn=Object.prototype.hasOwnProperty,er=Object.prototype.propertyIsEnumerable,yn=(e,t,r)=>t in e?Io(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,oe=(e,t)=>{for(var r in t||(t={}))Qn.call(t,r)&&yn(e,r,t[r]);if(Ct)for(var r of Ct(t))er.call(t,r)&&yn(e,r,t[r]);return e},ye=(e,t)=>Oo(e,Ao(t)),tr=(e,t)=>{var r={};for(var n in e)Qn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Ct)for(var n of Ct(e))t.indexOf(n)<0&&er.call(e,n)&&(r[n]=e[n]);return r};function at(...e){}function Do(e,t){if(To(e)){const r=Fo(t)?t():t;return e(r)}return e}function To(e){return typeof e=="function"}function Fo(e){return typeof e=="function"}function je(e,t){return typeof Object.hasOwn=="function"?Object.hasOwn(e,t):Object.prototype.hasOwnProperty.call(e,t)}function Te(...e){return(...t)=>{for(const r of e)typeof r=="function"&&r(...t)}}function nr(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}function Ro(e,t){const r=oe({},e);for(const n of t)je(r,n)&&delete r[n];return r}function ko(e,t){const r={};for(const n of t)je(e,n)&&(r[n]=e[n]);return r}function rr(e){return e}function Ie(e,t){if(!e)throw typeof t!="string"?new Error("Invariant failed"):new Error(t)}function _o(e){return Object.keys(e)}function or(e,...t){const r=typeof e=="function"?e(...t):e;return r==null?!1:!r}function qt(e){return e.disabled||e["aria-disabled"]===!0||e["aria-disabled"]==="true"}function Ye(e){const t={};for(const r in e)e[r]!==void 0&&(t[r]=e[r]);return t}function X(...e){for(const t of e)if(t!==void 0)return t}function Lt(e,t){typeof e=="function"?e(t):e&&(e.current=t)}function Mo(e){return!e||!c.isValidElement(e)?!1:"ref"in e.props||"ref"in e}function Vo(e){return Mo(e)?C({},e.props).ref||e.ref:null}function No(e,t){const r=C({},e);for(const n in t){if(!je(t,n))continue;if(n==="className"){const u="className";r[u]=e[u]?`${e[u]} ${t[u]}`:t[u];continue}if(n==="style"){const u="style";r[u]=e[u]?C(C({},e[u]),t[u]):t[u];continue}const o=t[n];if(typeof o=="function"&&n.startsWith("on")){const u=e[n];if(typeof u=="function"){r[n]=(...s)=>{o(...s),u(...s)};continue}}r[n]=o}return r}var it=Lo();function Lo(){var e;return typeof window<"u"&&!!((e=window.document)!=null&&e.createElement)}function ue(e){return e?"self"in e?e.document:e.ownerDocument||document:document}function ur(e){return e?"self"in e?e.self:ue(e).defaultView||window:self}function Ke(e,t=!1){const{activeElement:r}=ue(e);if(!(r!=null&&r.nodeName))return null;if(Yt(r)&&r.contentDocument)return Ke(r.contentDocument.body,t);if(t){const n=r.getAttribute("aria-activedescendant");if(n){const o=ue(r).getElementById(n);if(o)return o}}return r}function pe(e,t){return e===t||e.contains(t)}function Yt(e){return e.tagName==="IFRAME"}function qe(e){const t=e.tagName.toLowerCase();return t==="button"?!0:t==="input"&&e.type?jo.indexOf(e.type)!==-1:!1}var jo=["button","color","file","image","reset","submit"];function sr(e){if(typeof e.checkVisibility=="function")return e.checkVisibility();const t=e;return t.offsetWidth>0||t.offsetHeight>0||e.getClientRects().length>0}function Be(e){try{const t=e instanceof HTMLInputElement&&e.selectionStart!==null,r=e.tagName==="TEXTAREA";return t||r||!1}catch{return!1}}function jt(e){return e.isContentEditable||Be(e)}function $o(e){if(Be(e))return e.value;if(e.isContentEditable){const t=ue(e).createRange();return t.selectNodeContents(e),t.toString()}return""}function $t(e){let t=0,r=0;if(Be(e))t=e.selectionStart||0,r=e.selectionEnd||0;else if(e.isContentEditable){const n=ue(e).getSelection();if(n!=null&&n.rangeCount&&n.anchorNode&&pe(e,n.anchorNode)&&n.focusNode&&pe(e,n.focusNode)){const o=n.getRangeAt(0),u=o.cloneRange();u.selectNodeContents(e),u.setEnd(o.startContainer,o.startOffset),t=u.toString().length,u.setEnd(o.endContainer,o.endOffset),r=u.toString().length}}return{start:t,end:r}}function ir(e,t){const r=["dialog","menu","listbox","tree","grid"],n=e==null?void 0:e.getAttribute("role");return n&&r.indexOf(n)!==-1?n:t}function Xt(e){if(!e)return null;const t=r=>r==="auto"||r==="scroll";if(e.clientHeight&&e.scrollHeight>e.clientHeight){const{overflowY:r}=getComputedStyle(e);if(t(r))return e}else if(e.clientWidth&&e.scrollWidth>e.clientWidth){const{overflowX:r}=getComputedStyle(e);if(t(r))return e}return Xt(e.parentElement)||document.scrollingElement||document.body}function Ft(e,...t){/text|search|password|tel|url/i.test(e.type)&&e.setSelectionRange(...t)}function Ko(e,t){const r=e.map((o,u)=>[u,o]);let n=!1;return r.sort(([o,u],[s,i])=>{const a=t(u),l=t(i);return a===l||!a||!l?0:Bo(a,l)?(o>s&&(n=!0),-1):(o<s&&(n=!0),1)}),n?r.map(([o,u])=>u):e}function Bo(e,t){return!!(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_PRECEDING)}function ar(){return it&&!!navigator.maxTouchPoints}function Gt(){return it?/mac|iphone|ipad|ipod/i.test(navigator.platform):!1}function Pt(){return it&&Gt()&&/apple/i.test(navigator.vendor)}function Ho(){return it&&/firefox\//i.test(navigator.userAgent)}function zo(){return it&&navigator.platform.startsWith("Mac")&&!ar()}function cr(e){return!!(e.currentTarget&&!pe(e.currentTarget,e.target))}function De(e){return e.target===e.currentTarget}function Wo(e){const t=e.currentTarget;if(!t)return!1;const r=Gt();if(r&&!e.metaKey||!r&&!e.ctrlKey)return!1;const n=t.tagName.toLowerCase();return n==="a"||n==="button"&&t.type==="submit"||n==="input"&&t.type==="submit"}function Uo(e){const t=e.currentTarget;if(!t)return!1;const r=t.tagName.toLowerCase();return e.altKey?r==="a"||r==="button"&&t.type==="submit"||r==="input"&&t.type==="submit":!1}function rt(e,t){const r=new FocusEvent("blur",t),n=e.dispatchEvent(r),o=ye(oe({},t),{bubbles:!0});return e.dispatchEvent(new FocusEvent("focusout",o)),n}function qo(e,t,r){const n=new KeyboardEvent(t,r);return e.dispatchEvent(n)}function En(e,t){const r=new MouseEvent("click",t);return e.dispatchEvent(r)}function Ge(e,t){const r=t||e.currentTarget,n=e.relatedTarget;return!n||!pe(r,n)}function ot(e,t,r,n){const u=(i=>{const a=requestAnimationFrame(i);return()=>cancelAnimationFrame(a)})(()=>{e.removeEventListener(t,s,!0),r()}),s=()=>{u(),r()};return e.addEventListener(t,s,{once:!0,capture:!0}),u}function ke(e,t,r,n=window){const o=[];try{n.document.addEventListener(e,t,r);for(const s of Array.from(n.frames))o.push(ke(e,t,r,s))}catch{}return()=>{try{n.document.removeEventListener(e,t,r)}catch{}for(const s of o)s()}}var Jt=C({},uo),Cn=Jt.useId;Jt.useDeferredValue;var wn=Jt.useInsertionEffect,G=it?c.useLayoutEffect:c.useEffect;function Yo(e){const[t]=c.useState(e);return t}function Xo(e){const t=c.useRef(e);return G(()=>{t.current=e}),t}function W(e){const t=c.useRef(()=>{throw new Error("Cannot call an event handler while rendering.")});return wn?wn(()=>{t.current=e}):t.current=e,c.useCallback((...r)=>{var n;return(n=t.current)==null?void 0:n.call(t,...r)},[])}function Go(e){const[t,r]=c.useState(null);return G(()=>{if(t==null||!e)return;let n=null;return e(o=>(n=o,t)),()=>{e(n)}},[t,e]),[t,r]}function he(...e){return c.useMemo(()=>{if(e.some(Boolean))return t=>{for(const r of e)Lt(r,t)}},e)}function Qe(e){if(Cn){const n=Cn();return e||n}const[t,r]=c.useState(e);return G(()=>{if(e||t)return;const n=Math.random().toString(36).slice(2,8);r(`id-${n}`)},[e,t]),e||t}function lr(e,t){const r=u=>{if(typeof u=="string")return u},[n,o]=c.useState(()=>r(t));return G(()=>{const u=e&&"current"in e?e.current:e;o((u==null?void 0:u.tagName.toLowerCase())||r(t))},[e,t]),n}function Jo(e,t,r){const n=Yo(r),[o,u]=c.useState(n);return c.useEffect(()=>{const s=e&&"current"in e?e.current:e;if(!s)return;const i=()=>{const l=s.getAttribute(t);u(l??n)},a=new MutationObserver(i);return a.observe(s,{attributeFilter:[t]}),i(),()=>a.disconnect()},[e,t,n]),o}function ft(e,t){const r=c.useRef(!1);c.useEffect(()=>{if(r.current)return e();r.current=!0},t),c.useEffect(()=>()=>{r.current=!1},[])}function Zo(e,t){const r=c.useRef(!1);G(()=>{if(r.current)return e();r.current=!0},t),G(()=>()=>{r.current=!1},[])}function fr(){return c.useReducer(()=>[],[])}function ie(e){return W(typeof e=="function"?e:()=>e)}function we(e,t,r=[]){const n=c.useCallback(o=>(e.wrapElement&&(o=e.wrapElement(o)),t(o)),[...r,e.wrapElement]);return $(C({},e),{wrapElement:n})}function dr(e=!1,t){const[r,n]=c.useState(null);return{portalRef:he(n,t),portalNode:r,domReady:!e||r}}function mr(e,t,r){const n=e.onLoadedMetadataCapture,o=c.useMemo(()=>Object.assign(()=>{},$(C({},n),{[t]:r})),[n,t,r]);return[n==null?void 0:n[t],{onLoadedMetadataCapture:o}]}function Qo(){return c.useEffect(()=>{ke("mousemove",tu,!0),ke("mousedown",xt,!0),ke("mouseup",xt,!0),ke("keydown",xt,!0),ke("scroll",xt,!0)},[]),W(()=>Zt)}var Zt=!1,Pn=0,In=0;function eu(e){const t=e.movementX||e.screenX-Pn,r=e.movementY||e.screenY-In;return Pn=e.screenX,In=e.screenY,t||r||!1}function tu(e){eu(e)&&(Zt=!0)}function xt(){Zt=!1}function J(e){const t=c.forwardRef((r,n)=>e($(C({},r),{ref:n})));return t.displayName=e.displayName||e.name,t}function Qt(e,t){return c.memo(e,t)}function Q(e,t){const r=t,{wrapElement:n,render:o}=r,u=Z(r,["wrapElement","render"]),s=he(t.ref,Vo(o));let i;if(c.isValidElement(o)){const a=$(C({},o.props),{ref:s});i=c.cloneElement(o,No(u,a))}else o?i=o(u):i=O.jsx(e,C({},u));return n?n(i):i}function ee(e){const t=(r={})=>e(r);return t.displayName=e.name,t}function et(e=[],t=[]){const r=c.createContext(void 0),n=c.createContext(void 0),o=()=>c.useContext(r),u=(l=!1)=>{const m=c.useContext(n),p=o();return l?m:m||p},s=()=>{const l=c.useContext(n),m=o();if(!(l&&l===m))return m},i=l=>e.reduceRight((m,p)=>O.jsx(p,$(C({},l),{children:m})),O.jsx(r.Provider,C({},l)));return{context:r,scopedContext:n,useContext:o,useScopedContext:u,useProviderContext:s,ContextProvider:i,ScopedContextProvider:l=>O.jsx(i,$(C({},l),{children:t.reduceRight((m,p)=>O.jsx(p,$(C({},l),{children:m})),O.jsx(n.Provider,C({},l)))}))}}var dt=et(),nu=dt.useContext;dt.useScopedContext;dt.useProviderContext;var ru=dt.ContextProvider,ou=dt.ScopedContextProvider,mt=et([ru],[ou]),pr=mt.useContext;mt.useScopedContext;var uu=mt.useProviderContext,en=mt.ContextProvider,vr=mt.ScopedContextProvider,su=c.createContext(void 0),iu=c.createContext(void 0);c.createContext(null);c.createContext(null);var au=et([en],[vr]),cu=au.useContext;function tt(e,t){const r=e.__unstableInternals;return Ie(r,"Invalid store"),r[t]}function $e(e,...t){let r=e,n=r,o=Symbol(),u=at;const s=new Set,i=new Set,a=new Set,l=new Set,m=new Set,p=new WeakMap,f=new WeakMap,S=M=>(a.add(M),()=>a.delete(M)),b=()=>{const M=s.size,w=Symbol();s.add(w);const V=()=>{s.delete(w),!s.size&&u()};if(M)return V;const z=_o(r).map(y=>Te(...t.map(_=>{var x;const k=(x=_==null?void 0:_.getState)==null?void 0:x.call(_);if(k&&je(k,y))return Ce(_,[y],L=>{R(y,L[y],!0)})}))),B=[];for(const y of a)B.push(y());const d=t.map(tn);return u=Te(...z,...B,...d),V},h=(M,w,V=l)=>(V.add(w),f.set(w,M),()=>{var z;(z=p.get(w))==null||z(),p.delete(w),f.delete(w),V.delete(w)}),F=(M,w)=>h(M,w),E=(M,w)=>(p.set(w,w(r,r)),h(M,w)),I=(M,w)=>(p.set(w,w(r,n)),h(M,w,m)),P=M=>$e(ko(r,M),D),g=M=>$e(Ro(r,M),D),A=()=>r,R=(M,w,V=!1)=>{var z;if(!je(r,M))return;const B=Do(w,r[M]);if(B===r[M])return;if(!V)for(const x of t)(z=x==null?void 0:x.setState)==null||z.call(x,M,B);const d=r;r=ye(oe({},r),{[M]:B});const y=Symbol();o=y,i.add(M);const _=(x,k,L)=>{var v;const j=f.get(x),H=te=>L?L.has(te):te===M;(!j||j.some(H))&&((v=p.get(x))==null||v(),p.set(x,x(r,k)))};for(const x of l)_(x,d);queueMicrotask(()=>{if(o!==y)return;const x=r;for(const k of m)_(k,n,i);n=x,i.clear()})},D={getState:A,setState:R,__unstableInternals:{setup:S,init:b,subscribe:F,sync:E,batch:I,pick:P,omit:g}};return D}function Ee(e,...t){if(e)return tt(e,"setup")(...t)}function tn(e,...t){if(e)return tt(e,"init")(...t)}function nn(e,...t){if(e)return tt(e,"subscribe")(...t)}function Ce(e,...t){if(e)return tt(e,"sync")(...t)}function wt(e,...t){if(e)return tt(e,"batch")(...t)}function br(e,...t){if(e)return tt(e,"omit")(...t)}function lu(e,...t){if(e)return tt(e,"pick")(...t)}function rn(...e){const t=e.reduce((n,o)=>{var u;const s=(u=o==null?void 0:o.getState)==null?void 0:u.call(o);return s?Object.assign(n,s):n},{}),r=$e(t,...e);return Object.assign({},...e,r)}var gr={exports:{}},hr={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ut=c;function fu(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var du=typeof Object.is=="function"?Object.is:fu,mu=ut.useState,pu=ut.useEffect,vu=ut.useLayoutEffect,bu=ut.useDebugValue;function gu(e,t){var r=t(),n=mu({inst:{value:r,getSnapshot:t}}),o=n[0].inst,u=n[1];return vu(function(){o.value=r,o.getSnapshot=t,Rt(o)&&u({inst:o})},[e,r,t]),pu(function(){return Rt(o)&&u({inst:o}),e(function(){Rt(o)&&u({inst:o})})},[e]),bu(r),r}function Rt(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!du(e,r)}catch{return!0}}function hu(e,t){return t()}var xu=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?hu:gu;hr.useSyncExternalStore=ut.useSyncExternalStore!==void 0?ut.useSyncExternalStore:xu;gr.exports=hr;var Su=gr.exports;const yu=so(Su);var{useSyncExternalStore:xr}=yu,Sr=()=>()=>{};function Pe(e,t=rr){const r=c.useCallback(o=>e?nn(e,null,o):Sr(),[e]),n=()=>{const o=typeof t=="string"?t:null,u=typeof t=="function"?t:null,s=e==null?void 0:e.getState();if(u)return u(s);if(s&&o&&je(s,o))return s[o]};return xr(r,n,n)}function yr(e,t){const r=c.useRef({}),n=c.useCallback(u=>e?nn(e,null,u):Sr(),[e]),o=()=>{const u=e==null?void 0:e.getState();let s=!1;const i=r.current;for(const a in t){const l=t[a];if(typeof l=="function"){const m=l(u);m!==i[a]&&(i[a]=m,s=!0)}if(typeof l=="string"){if(!u||!je(u,l))continue;const m=u[l];m!==i[a]&&(i[a]=m,s=!0)}}return s&&(r.current=C({},i)),r.current};return xr(n,o,o)}function me(e,t,r,n){const o=je(t,r)?t[r]:void 0,u=n?t[n]:void 0,s=Xo({value:o,setValue:u});G(()=>Ce(e,[r],(i,a)=>{const{value:l,setValue:m}=s.current;m&&i[r]!==a[r]&&i[r]!==l&&m(i[r])}),[e,r]),G(()=>{if(o!==void 0)return e.setState(r,o),wt(e,[r],()=>{o!==void 0&&e.setState(r,o)})})}function on(e,t){const[r,n]=c.useState(()=>e(t));G(()=>tn(r),[r]);const o=c.useCallback(i=>Pe(r,i),[r]),u=c.useMemo(()=>$(C({},r),{useState:o}),[r,o]),s=W(()=>{n(i=>e(C(C({},t),i.getState())))});return[u,s]}function Eu(e){var t;const r=e.find(u=>!!u.element),n=[...e].reverse().find(u=>!!u.element);let o=(t=r==null?void 0:r.element)==null?void 0:t.parentElement;for(;o&&(n!=null&&n.element);){if(n&&o.contains(n.element))return o;o=o.parentElement}return ue(o).body}function Cu(e){return e==null?void 0:e.__unstablePrivateStore}function wu(e={}){var t;e.store;const r=(t=e.store)==null?void 0:t.getState(),n=X(e.items,r==null?void 0:r.items,e.defaultItems,[]),o=new Map(n.map(f=>[f.id,f])),u={items:n,renderedItems:X(r==null?void 0:r.renderedItems,[])},s=Cu(e.store),i=$e({items:n,renderedItems:u.renderedItems},s),a=$e(u,e.store),l=f=>{const S=Ko(f,b=>b.element);i.setState("renderedItems",S),a.setState("renderedItems",S)};Ee(a,()=>tn(i)),Ee(i,()=>wt(i,["items"],f=>{a.setState("items",f.items)})),Ee(i,()=>wt(i,["renderedItems"],f=>{let S=!0,b=requestAnimationFrame(()=>{const{renderedItems:I}=a.getState();f.renderedItems!==I&&l(f.renderedItems)});if(typeof IntersectionObserver!="function")return()=>cancelAnimationFrame(b);const h=()=>{if(S){S=!1;return}cancelAnimationFrame(b),b=requestAnimationFrame(()=>l(f.renderedItems))},F=Eu(f.renderedItems),E=new IntersectionObserver(h,{root:F});for(const I of f.renderedItems)I.element&&E.observe(I.element);return()=>{cancelAnimationFrame(b),E.disconnect()}}));const m=(f,S,b=!1)=>{let h;return S(E=>{const I=E.findIndex(({id:g})=>g===f.id),P=E.slice();if(I!==-1){h=E[I];const g=oe(oe({},h),f);P[I]=g,o.set(f.id,g)}else P.push(f),o.set(f.id,f);return P}),()=>{S(E=>{if(!h)return b&&o.delete(f.id),E.filter(({id:g})=>g!==f.id);const I=E.findIndex(({id:g})=>g===f.id);if(I===-1)return E;const P=E.slice();return P[I]=h,o.set(f.id,h),P})}},p=f=>m(f,S=>i.setState("items",S),!0);return ye(oe({},a),{registerItem:p,renderItem:f=>Te(p(f),m(f,S=>i.setState("renderedItems",S))),item:f=>{if(!f)return null;let S=o.get(f);if(!S){const{items:b}=i.getState();S=b.find(h=>h.id===f),S&&o.set(f,S)}return S||null},__unstablePrivateStore:i})}function Pu(e,t,r){return ft(t,[r.store]),me(e,r,"items","setItems"),e}function Iu(e){return Array.isArray(e)?e:typeof e<"u"?[e]:[]}function Er(e){const t=[];for(const r of e)t.push(...r);return t}function Kt(e){return e.slice().reverse()}var Ou={id:null};function Le(e,t){return e.find(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function Au(e,t){return e.filter(r=>t?!r.disabled&&r.id!==t:!r.disabled)}function On(e,t){return e.filter(r=>r.rowId===t)}function Du(e,t,r=!1){const n=e.findIndex(o=>o.id===t);return[...e.slice(n+1),...r?[Ou]:[],...e.slice(0,n)]}function Cr(e){const t=[];for(const r of e){const n=t.find(o=>{var u;return((u=o[0])==null?void 0:u.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function wr(e){let t=0;for(const{length:r}of e)r>t&&(t=r);return t}function Tu(e){return{id:"__EMPTY_ITEM__",disabled:!0,rowId:e}}function Fu(e,t,r){const n=wr(e);for(const o of e)for(let u=0;u<n;u+=1){const s=o[u];if(!s||r&&s.disabled){const a=u===0&&r?Le(o):o[u-1];o[u]=a&&t!==a.id&&r?a:Tu(a==null?void 0:a.rowId)}}return e}function Ru(e){const t=Cr(e),r=wr(t),n=[];for(let o=0;o<r;o+=1)for(const u of t){const s=u[o];s&&n.push(ye(oe({},s),{rowId:s.rowId?`${o}`:void 0}))}return n}function ku(e={}){var t;const r=(t=e.store)==null?void 0:t.getState(),n=wu(e),o=X(e.activeId,r==null?void 0:r.activeId,e.defaultActiveId),u=ye(oe({},n.getState()),{id:X(e.id,r==null?void 0:r.id,`id-${Math.random().toString(36).slice(2,8)}`),activeId:o,baseElement:X(r==null?void 0:r.baseElement,null),includesBaseElement:X(e.includesBaseElement,r==null?void 0:r.includesBaseElement,o===null),moves:X(r==null?void 0:r.moves,0),orientation:X(e.orientation,r==null?void 0:r.orientation,"both"),rtl:X(e.rtl,r==null?void 0:r.rtl,!1),virtualFocus:X(e.virtualFocus,r==null?void 0:r.virtualFocus,!1),focusLoop:X(e.focusLoop,r==null?void 0:r.focusLoop,!1),focusWrap:X(e.focusWrap,r==null?void 0:r.focusWrap,!1),focusShift:X(e.focusShift,r==null?void 0:r.focusShift,!1)}),s=$e(u,n,e.store);Ee(s,()=>Ce(s,["renderedItems","activeId"],a=>{s.setState("activeId",l=>{var m;return l!==void 0?l:(m=Le(a.renderedItems))==null?void 0:m.id})}));const i=(a="next",l={})=>{var m,p;const f=s.getState(),{skip:S=0,activeId:b=f.activeId,focusShift:h=f.focusShift,focusLoop:F=f.focusLoop,focusWrap:E=f.focusWrap,includesBaseElement:I=f.includesBaseElement,renderedItems:P=f.renderedItems,rtl:g=f.rtl}=l,A=a==="up"||a==="down",R=a==="next"||a==="down",D=R?g&&!A:!g||A,M=h&&!S;let w=A?Er(Fu(Cr(P),b,M)):P;if(w=D?Kt(w):w,w=A?Ru(w):w,b==null)return(m=Le(w))==null?void 0:m.id;const V=w.find(v=>v.id===b);if(!V)return(p=Le(w))==null?void 0:p.id;const z=w.some(v=>v.rowId),B=w.indexOf(V),d=w.slice(B+1),y=On(d,V.rowId);if(S){const v=Au(y,b),j=v.slice(S)[0]||v[v.length-1];return j==null?void 0:j.id}const _=F&&(A?F!=="horizontal":F!=="vertical"),x=z&&E&&(A?E!=="horizontal":E!=="vertical"),k=R?(!z||A)&&_&&I:A?I:!1;if(_){const v=x&&!k?w:On(w,V.rowId),j=Du(v,b,k),H=Le(j,b);return H==null?void 0:H.id}if(x){const v=Le(k?y:d,b);return k?(v==null?void 0:v.id)||null:v==null?void 0:v.id}const L=Le(y,b);return!L&&k?null:L==null?void 0:L.id};return ye(oe(oe({},n),s),{setBaseElement:a=>s.setState("baseElement",a),setActiveId:a=>s.setState("activeId",a),move:a=>{a!==void 0&&(s.setState("activeId",a),s.setState("moves",l=>l+1))},first:()=>{var a;return(a=Le(s.getState().renderedItems))==null?void 0:a.id},last:()=>{var a;return(a=Le(Kt(s.getState().renderedItems)))==null?void 0:a.id},next:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),i("next",a)),previous:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),i("previous",a)),down:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),i("down",a)),up:a=>(a!==void 0&&typeof a=="number"&&(a={skip:a}),i("up",a))})}function _u(e){const t=Qe(e.id);return C({id:t},e)}function Mu(e,t,r){return e=Pu(e,t,r),me(e,r,"activeId","setActiveId"),me(e,r,"includesBaseElement"),me(e,r,"virtualFocus"),me(e,r,"orientation"),me(e,r,"rtl"),me(e,r,"focusLoop"),me(e,r,"focusWrap"),me(e,r,"focusShift"),e}function Pr(e={}){const t=rn(e.store,br(e.disclosure,["contentElement","disclosureElement"])),r=t==null?void 0:t.getState(),n=X(e.open,r==null?void 0:r.open,e.defaultOpen,!1),o=X(e.animated,r==null?void 0:r.animated,!1),u={open:n,animated:o,animating:!!o&&n,mounted:n,contentElement:X(r==null?void 0:r.contentElement,null),disclosureElement:X(r==null?void 0:r.disclosureElement,null)},s=$e(u,t);return Ee(s,()=>Ce(s,["animated","animating"],i=>{i.animated||s.setState("animating",!1)})),Ee(s,()=>nn(s,["open"],()=>{s.getState().animated&&s.setState("animating",!0)})),Ee(s,()=>Ce(s,["open","animating"],i=>{s.setState("mounted",i.open||i.animating)})),ye(oe({},s),{disclosure:e.disclosure,setOpen:i=>s.setState("open",i),show:()=>s.setState("open",!0),hide:()=>s.setState("open",!1),toggle:()=>s.setState("open",i=>!i),stopAnimation:()=>s.setState("animating",!1),setContentElement:i=>s.setState("contentElement",i),setDisclosureElement:i=>s.setState("disclosureElement",i)})}function Ir(e,t,r){return ft(t,[r.store,r.disclosure]),me(e,r,"open","setOpen"),me(e,r,"mounted","setMounted"),me(e,r,"animated"),Object.assign(e,{disclosure:r.disclosure})}function Vu(e={}){const[t,r]=on(Pr,e);return Ir(t,r,e)}function Or(e={}){return Pr(e)}function Ar(e,t,r){return Ir(e,t,r)}function Nu(e={}){const[t,r]=on(Or,e);return Ar(t,r,e)}function Lu(e={}){var t=e,{popover:r}=t,n=tr(t,["popover"]);const o=rn(n.store,br(r,["arrowElement","anchorElement","contentElement","popoverElement","disclosureElement"])),u=o==null?void 0:o.getState(),s=Or(ye(oe({},n),{store:o})),i=X(n.placement,u==null?void 0:u.placement,"bottom"),a=ye(oe({},s.getState()),{placement:i,currentPlacement:i,anchorElement:X(u==null?void 0:u.anchorElement,null),popoverElement:X(u==null?void 0:u.popoverElement,null),arrowElement:X(u==null?void 0:u.arrowElement,null),rendered:Symbol("rendered")}),l=$e(a,s,o);return ye(oe(oe({},s),l),{setAnchorElement:m=>l.setState("anchorElement",m),setPopoverElement:m=>l.setState("popoverElement",m),setArrowElement:m=>l.setState("arrowElement",m),render:()=>l.setState("rendered",Symbol("rendered"))})}function ju(e,t,r){return ft(t,[r.popover]),me(e,r,"placement"),Ar(e,t,r)}var $u=Pt()&&ar();function Ku(e={}){var t=e,{tag:r}=t,n=tr(t,["tag"]);const o=rn(n.store,lu(r,["value","rtl"])),u=r==null?void 0:r.getState(),s=o==null?void 0:o.getState(),i=X(n.activeId,s==null?void 0:s.activeId,n.defaultActiveId,null),a=ku(ye(oe({},n),{activeId:i,includesBaseElement:X(n.includesBaseElement,s==null?void 0:s.includesBaseElement,!0),orientation:X(n.orientation,s==null?void 0:s.orientation,"vertical"),focusLoop:X(n.focusLoop,s==null?void 0:s.focusLoop,!0),focusWrap:X(n.focusWrap,s==null?void 0:s.focusWrap,!0),virtualFocus:X(n.virtualFocus,s==null?void 0:s.virtualFocus,!0)})),l=Lu(ye(oe({},n),{placement:X(n.placement,s==null?void 0:s.placement,"bottom-start")})),m=X(n.value,s==null?void 0:s.value,n.defaultValue,""),p=X(n.selectedValue,s==null?void 0:s.selectedValue,u==null?void 0:u.values,n.defaultSelectedValue,""),f=Array.isArray(p),S=ye(oe(oe({},a.getState()),l.getState()),{value:m,selectedValue:p,resetValueOnSelect:X(n.resetValueOnSelect,s==null?void 0:s.resetValueOnSelect,f),resetValueOnHide:X(n.resetValueOnHide,s==null?void 0:s.resetValueOnHide,f&&!r),activeValue:s==null?void 0:s.activeValue}),b=$e(S,a,l,o);return $u&&Ee(b,()=>Ce(b,["virtualFocus"],()=>{b.setState("virtualFocus",!1)})),Ee(b,()=>{if(r)return Te(Ce(b,["selectedValue"],h=>{Array.isArray(h.selectedValue)&&r.setValues(h.selectedValue)}),Ce(r,["values"],h=>{b.setState("selectedValue",h.values)}))}),Ee(b,()=>Ce(b,["resetValueOnHide","mounted"],h=>{h.resetValueOnHide&&(h.mounted||b.setState("value",m))})),Ee(b,()=>Ce(b,["open"],h=>{h.open||(b.setState("activeId",i),b.setState("moves",0))})),Ee(b,()=>Ce(b,["moves","activeId"],(h,F)=>{h.moves===F.moves&&b.setState("activeValue",void 0)})),Ee(b,()=>wt(b,["moves","renderedItems"],(h,F)=>{if(h.moves===F.moves)return;const{activeId:E}=b.getState(),I=a.item(E);b.setState("activeValue",I==null?void 0:I.value)})),ye(oe(oe(oe({},l),a),b),{tag:r,setValue:h=>b.setState("value",h),resetValue:()=>b.setState("value",S.value),setSelectedValue:h=>b.setState("selectedValue",h)})}function Bu(e){const t=cu();return e=$(C({},e),{tag:e.tag!==void 0?e.tag:t}),_u(e)}function Hu(e,t,r){return ft(t,[r.tag]),me(e,r,"value","setValue"),me(e,r,"selectedValue","setSelectedValue"),me(e,r,"resetValueOnHide"),me(e,r,"resetValueOnSelect"),Object.assign(Mu(ju(e,t,r),t,r),{tag:r.tag})}function zu(e={}){e=Bu(e);const[t,r]=on(Ku,e);return Hu(t,r,e)}var pt=et();pt.useContext;pt.useScopedContext;var un=pt.useProviderContext,Wu=pt.ContextProvider,Uu=pt.ScopedContextProvider,sn=et([Wu],[Uu]),It=sn.useProviderContext,qu=sn.ContextProvider,an=sn.ScopedContextProvider,Yu=c.createContext(void 0),Xu=c.createContext(void 0),vt=et([qu],[an]);vt.useContext;vt.useScopedContext;var cn=vt.useProviderContext,Gu=vt.ContextProvider,Dr=vt.ScopedContextProvider,Tr=c.createContext(void 0),bt=et([Gu,en],[Dr,vr]),Ju=bt.useContext,ln=bt.useScopedContext,Ot=bt.useProviderContext,Zu=bt.ContextProvider,Qu=bt.ScopedContextProvider,Fr=c.createContext(void 0),Rr=c.createContext(!1),es="div",kr=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const u=cn();return n=n||u,o=$(C({},o),{ref:he(n==null?void 0:n.setAnchorElement,o.ref)}),o});J(function(t){const r=kr(t);return Q(es,r)});function ts(e,t){return e.find(r=>!r.disabled)}function Ue(e,t){return t&&e.item(t)||null}function ns(e){const t=[];for(const r of e){const n=t.find(o=>{var u;return((u=o[0])==null?void 0:u.rowId)===r.rowId});n?n.push(r):t.push([r])}return t}function rs(e,t=!1){if(Be(e))e.setSelectionRange(t?e.value.length:0,e.value.length);else if(e.isContentEditable){const r=ue(e).getSelection();r==null||r.selectAllChildren(e),t&&(r==null||r.collapseToEnd())}}var Bt=Symbol("FOCUS_SILENTLY");function os(e){e[Bt]=!0,e.focus({preventScroll:!0})}function us(e){const t=e[Bt];return delete e[Bt],t}function ct(e,t,r){return!(!t||t===r||!e.item(t.id))}var _r=c.createContext(!0),At="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], summary, iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false'])";function ss(e){return Number.parseInt(e.getAttribute("tabindex")||"0",10)<0}function _e(e){return!(!e.matches(At)||!sr(e)||e.closest("[inert]"))}function lt(e){if(!_e(e)||ss(e))return!1;if(!("form"in e)||!e.form||e.checked||e.type!=="radio")return!0;const t=e.form.elements.namedItem(e.name);if(!t||!("length"in t))return!0;const r=Ke(e);return!r||r===e||!("form"in r)||r.form!==e.form||r.name!==e.name}function fn(e,t){const r=Array.from(e.querySelectorAll(At));t&&r.unshift(e);const n=r.filter(_e);return n.forEach((o,u)=>{if(Yt(o)&&o.contentDocument){const s=o.contentDocument.body;n.splice(u,1,...fn(s))}}),n}function Dt(e,t,r){const n=Array.from(e.querySelectorAll(At)),o=n.filter(lt);return t&&lt(e)&&o.unshift(e),o.forEach((u,s)=>{if(Yt(u)&&u.contentDocument){const i=u.contentDocument.body,a=Dt(i,!1,r);o.splice(s,1,...a)}}),!o.length&&r?n:o}function is(e,t,r){const[n]=Dt(e,t,r);return n||null}function as(e,t,r,n){const o=Ke(e),u=fn(e,t),s=u.indexOf(o),i=u.slice(s+1);return i.find(lt)||(r?u.find(lt):null)||(n?i[0]:null)||null}function kt(e,t){return as(document.body,!1,e,t)}function cs(e,t,r,n){const o=Ke(e),u=fn(e,t).reverse(),s=u.indexOf(o);return u.slice(s+1).find(lt)||null||null||null}function An(e,t){return cs(document.body,!1)}function ls(e){for(;e&&!_e(e);)e=e.closest(At);return e||null}function Je(e){const t=Ke(e);if(!t)return!1;if(t===e)return!0;const r=t.getAttribute("aria-activedescendant");return r?r===e.id:!1}function Mr(e){const t=Ke(e);if(!t)return!1;if(pe(e,t))return!0;const r=t.getAttribute("aria-activedescendant");return!r||!("id"in e)?!1:r===e.id?!0:!!e.querySelector(`#${CSS.escape(r)}`)}function Vr(e){!Mr(e)&&_e(e)&&e.focus()}function fs(e){var t;const r=(t=e.getAttribute("tabindex"))!=null?t:"";e.setAttribute("data-tabindex",r),e.setAttribute("tabindex","-1")}function ds(e,t){const r=Dt(e,t);for(const n of r)fs(n)}function ms(e){const t=e.querySelectorAll("[data-tabindex]"),r=n=>{const o=n.getAttribute("data-tabindex");n.removeAttribute("data-tabindex"),o?n.setAttribute("tabindex",o):n.removeAttribute("tabindex")};e.hasAttribute("data-tabindex")&&r(e);for(const n of t)r(n)}function ps(e,t){"scrollIntoView"in e?(e.focus({preventScroll:!0}),e.scrollIntoView(oe({block:"nearest",inline:"nearest"},t))):e.focus()}var vs="div",Dn=Pt(),bs=["text","search","url","tel","email","password","number","date","month","week","time","datetime","datetime-local"],Nr=Symbol("safariFocusAncestor");function gs(e){return e?!!e[Nr]:!1}function Tn(e,t){e&&(e[Nr]=t)}function hs(e){const{tagName:t,readOnly:r,type:n}=e;return t==="TEXTAREA"&&!r||t==="SELECT"&&!r?!0:t==="INPUT"&&!r?bs.includes(n):!!(e.isContentEditable||e.getAttribute("role")==="combobox"&&e.dataset.name)}function xs(e){return"labels"in e?e.labels:null}function Fn(e){return e.tagName.toLowerCase()==="input"&&e.type?e.type==="radio"||e.type==="checkbox":!1}function Ss(e){return e?e==="button"||e==="summary"||e==="input"||e==="select"||e==="textarea"||e==="a":!0}function ys(e){return e?e==="button"||e==="input"||e==="select"||e==="textarea":!0}function Es(e,t,r,n,o){return e?t?r&&!n?-1:void 0:r?o:o||0:o}function _t(e,t){return W(r=>{e==null||e(r),!r.defaultPrevented&&t&&(r.stopPropagation(),r.preventDefault())})}var dn=!0;function Cs(e){const t=e.target;t&&"hasAttribute"in t&&(t.hasAttribute("data-focus-visible")||(dn=!1))}function ws(e){e.metaKey||e.ctrlKey||e.altKey||(dn=!0)}var Tt=ee(function(t){var r=t,{focusable:n=!0,accessibleWhenDisabled:o,autoFocus:u,onFocusVisible:s}=r,i=Z(r,["focusable","accessibleWhenDisabled","autoFocus","onFocusVisible"]);const a=c.useRef(null);c.useEffect(()=>{n&&(ke("mousedown",Cs,!0),ke("keydown",ws,!0))},[n]),Dn&&c.useEffect(()=>{if(!n)return;const x=a.current;if(!x||!Fn(x))return;const k=xs(x);if(!k)return;const L=()=>queueMicrotask(()=>x.focus());for(const v of k)v.addEventListener("mouseup",L);return()=>{for(const v of k)v.removeEventListener("mouseup",L)}},[n]);const l=n&&qt(i),m=!!l&&!o,[p,f]=c.useState(!1);c.useEffect(()=>{n&&m&&p&&f(!1)},[n,m,p]),c.useEffect(()=>{if(!n||!p)return;const x=a.current;if(!x||typeof IntersectionObserver>"u")return;const k=new IntersectionObserver(()=>{_e(x)||f(!1)});return k.observe(x),()=>k.disconnect()},[n,p]);const S=_t(i.onKeyPressCapture,l),b=_t(i.onMouseDownCapture,l),h=_t(i.onClickCapture,l),F=i.onMouseDown,E=W(x=>{if(F==null||F(x),x.defaultPrevented||!n)return;const k=x.currentTarget;if(!Dn||cr(x)||!qe(k)&&!Fn(k))return;let L=!1;const v=()=>{L=!0},j={capture:!0,once:!0};k.addEventListener("focusin",v,j);const H=ls(k.parentElement);Tn(H,!0),ot(k,"mouseup",()=>{k.removeEventListener("focusin",v,!0),Tn(H,!1),!L&&Vr(k)})}),I=(x,k)=>{if(k&&(x.currentTarget=k),!n)return;const L=x.currentTarget;L&&Je(L)&&(s==null||s(x),!x.defaultPrevented&&(L.dataset.focusVisible="true",f(!0)))},P=i.onKeyDownCapture,g=W(x=>{if(P==null||P(x),x.defaultPrevented||!n||p||x.metaKey||x.altKey||x.ctrlKey||!De(x))return;const k=x.currentTarget;ot(k,"focusout",()=>I(x,k))}),A=i.onFocusCapture,R=W(x=>{if(A==null||A(x),x.defaultPrevented||!n)return;if(!De(x)){f(!1);return}const k=x.currentTarget,L=()=>I(x,k);dn||hs(x.target)?ot(x.target,"focusout",L):f(!1)}),D=i.onBlur,M=W(x=>{D==null||D(x),n&&Ge(x)&&f(!1)}),w=c.useContext(_r),V=W(x=>{n&&u&&x&&w&&queueMicrotask(()=>{Je(x)||_e(x)&&x.focus()})}),z=lr(a),B=n&&Ss(z),d=n&&ys(z),y=i.style,_=c.useMemo(()=>m?C({pointerEvents:"none"},y):y,[m,y]);return i=$(C({"data-focus-visible":n&&p||void 0,"data-autofocus":u||void 0,"aria-disabled":l||void 0},i),{ref:he(a,V,i.ref),style:_,tabIndex:Es(n,m,B,d,i.tabIndex),disabled:d&&m?!0:void 0,contentEditable:l?void 0:i.contentEditable,onKeyPressCapture:S,onClickCapture:h,onMouseDownCapture:b,onMouseDown:E,onKeyDownCapture:g,onFocusCapture:R,onBlur:M}),Ye(i)});J(function(t){const r=Tt(t);return Q(vs,r)});var Ps="div";function Is(e){return e.some(t=>!!t.rowId)}function Os(e){const t=e.target;return t&&!Be(t)?!1:e.key.length===1&&!e.ctrlKey&&!e.metaKey}function As(e){return e.key==="Shift"||e.key==="Control"||e.key==="Alt"||e.key==="Meta"}function Rn(e,t,r){return W(n=>{var o;if(t==null||t(n),n.defaultPrevented||n.isPropagationStopped()||!De(n)||As(n)||Os(n))return;const u=e.getState(),s=(o=Ue(e,u.activeId))==null?void 0:o.element;if(!s)return;const i=n,a=Z(i,["view"]),l=r==null?void 0:r.current;s!==l&&s.focus(),qo(s,n.type,a)||n.preventDefault(),n.currentTarget.contains(s)&&n.stopPropagation()})}function Ds(e){return ts(Er(Kt(ns(e))))}function Ts(e){const[t,r]=c.useState(!1),n=c.useCallback(()=>r(!0),[]),o=e.useState(u=>Ue(e,u.activeId));return c.useEffect(()=>{const u=o==null?void 0:o.element;t&&u&&(r(!1),u.focus({preventScroll:!0}))},[o,t]),n}var Lr=ee(function(t){var r=t,{store:n,composite:o=!0,focusOnMove:u=o,moveOnKeyPress:s=!0}=r,i=Z(r,["store","composite","focusOnMove","moveOnKeyPress"]);const a=uu();n=n||a,Ie(n,!1);const l=c.useRef(null),m=c.useRef(null),p=Ts(n),f=n.useState("moves"),[,S]=Go(o?n.setBaseElement:null);c.useEffect(()=>{var d;if(!n||!f||!o||!u)return;const{activeId:y}=n.getState(),_=(d=Ue(n,y))==null?void 0:d.element;_&&ps(_)},[n,f,o,u]),G(()=>{if(!n||!f||!o)return;const{baseElement:d,activeId:y}=n.getState();if(!(y===null)||!d)return;const x=m.current;m.current=null,x&&rt(x,{relatedTarget:d}),Je(d)||d.focus()},[n,f,o]);const b=n.useState("activeId"),h=n.useState("virtualFocus");G(()=>{var d;if(!n||!o||!h)return;const y=m.current;if(m.current=null,!y)return;const x=((d=Ue(n,b))==null?void 0:d.element)||Ke(y);x!==y&&rt(y,{relatedTarget:x})},[n,b,h,o]);const F=Rn(n,i.onKeyDownCapture,m),E=Rn(n,i.onKeyUpCapture,m),I=i.onFocusCapture,P=W(d=>{if(I==null||I(d),d.defaultPrevented||!n)return;const{virtualFocus:y}=n.getState();if(!y)return;const _=d.relatedTarget,x=us(d.currentTarget);De(d)&&x&&(d.stopPropagation(),m.current=_)}),g=i.onFocus,A=W(d=>{if(g==null||g(d),d.defaultPrevented||!o||!n)return;const{relatedTarget:y}=d,{virtualFocus:_}=n.getState();_?De(d)&&!ct(n,y)&&queueMicrotask(p):De(d)&&n.setActiveId(null)}),R=i.onBlurCapture,D=W(d=>{var y;if(R==null||R(d),d.defaultPrevented||!n)return;const{virtualFocus:_,activeId:x}=n.getState();if(!_)return;const k=(y=Ue(n,x))==null?void 0:y.element,L=d.relatedTarget,v=ct(n,L),j=m.current;m.current=null,De(d)&&v?(L===k?j&&j!==L&&rt(j,d):k?rt(k,d):j&&rt(j,d),d.stopPropagation()):!ct(n,d.target)&&k&&rt(k,d)}),M=i.onKeyDown,w=ie(s),V=W(d=>{var y;if(M==null||M(d),d.defaultPrevented||!n||!De(d))return;const{orientation:_,renderedItems:x,activeId:k}=n.getState(),L=Ue(n,k);if((y=L==null?void 0:L.element)!=null&&y.isConnected)return;const v=_!=="horizontal",j=_!=="vertical",H=Is(x);if((d.key==="ArrowLeft"||d.key==="ArrowRight"||d.key==="Home"||d.key==="End")&&Be(d.currentTarget))return;const re={ArrowUp:(H||v)&&(()=>{if(H){const ve=Ds(x);return ve==null?void 0:ve.id}return n==null?void 0:n.last()}),ArrowRight:(H||j)&&n.first,ArrowDown:(H||v)&&n.first,ArrowLeft:(H||j)&&n.last,Home:n.first,End:n.last,PageUp:n.first,PageDown:n.last}[d.key];if(re){const ve=re();if(ve!==void 0){if(!w(d))return;d.preventDefault(),n.move(ve)}}});i=we(i,d=>O.jsx(en,{value:n,children:d}),[n]);const z=n.useState(d=>{var y;if(n&&o&&d.virtualFocus)return(y=Ue(n,d.activeId))==null?void 0:y.id});i=$(C({"aria-activedescendant":z},i),{ref:he(l,S,i.ref),onKeyDownCapture:F,onKeyUpCapture:E,onFocusCapture:P,onFocus:A,onBlurCapture:D,onKeyDown:V});const B=n.useState(d=>o&&(d.virtualFocus||d.activeId===null));return i=Tt(C({focusable:B},i)),i});J(function(t){const r=Lr(t);return Q(Ps,r)});var Fs="input";function kn(e,t,r){if(!r)return!1;const n=e.find(o=>!o.disabled&&o.value);return(n==null?void 0:n.value)===t}function _n(e,t){return!t||e==null?!1:(e=nr(e),t.length>e.length&&t.toLowerCase().indexOf(e.toLowerCase())===0)}function Rs(e){return e.type==="input"}function ks(e){return e==="inline"||e==="list"||e==="both"||e==="none"}function _s(e){const t=e.find(r=>{var n;return r.disabled?!1:((n=r.element)==null?void 0:n.getAttribute("role"))!=="tab"});return t==null?void 0:t.id}var Ms=ee(function(t){var r=t,{store:n,focusable:o=!0,autoSelect:u=!1,getAutoSelectId:s,setValueOnChange:i,showMinLength:a=0,showOnChange:l,showOnMouseDown:m,showOnClick:p=m,showOnKeyDown:f,showOnKeyPress:S=f,blurActiveItemOnClick:b,setValueOnClick:h=!0,moveOnKeyPress:F=!0,autoComplete:E="list"}=r,I=Z(r,["store","focusable","autoSelect","getAutoSelectId","setValueOnChange","showMinLength","showOnChange","showOnMouseDown","showOnClick","showOnKeyDown","showOnKeyPress","blurActiveItemOnClick","setValueOnClick","moveOnKeyPress","autoComplete"]);const P=Ot();n=n||P,Ie(n,!1);const g=c.useRef(null),[A,R]=fr(),D=c.useRef(!1),M=c.useRef(!1),w=n.useState(T=>T.virtualFocus&&u),V=E==="inline"||E==="both",[z,B]=c.useState(V);Zo(()=>{V&&B(!0)},[V]);const d=n.useState("value"),y=c.useRef();c.useEffect(()=>Ce(n,["selectedValue","activeId"],(T,U)=>{y.current=U.selectedValue}),[]);const _=n.useState(T=>{var U;if(V&&z&&!(T.activeValue&&Array.isArray(T.selectedValue)&&(T.selectedValue.includes(T.activeValue)||(U=y.current)!=null&&U.includes(T.activeValue))))return T.activeValue}),x=n.useState("renderedItems"),k=n.useState("open"),L=n.useState("contentElement"),v=c.useMemo(()=>{if(!V||!z)return d;if(kn(x,_,w)){if(_n(d,_)){const U=(_==null?void 0:_.slice(d.length))||"";return d+U}return d}return _||d},[V,z,x,_,w,d]);c.useEffect(()=>{const T=g.current;if(!T)return;const U=()=>B(!0);return T.addEventListener("combobox-item-move",U),()=>{T.removeEventListener("combobox-item-move",U)}},[]),c.useEffect(()=>{if(!V||!z||!_||!kn(x,_,w)||!_n(d,_))return;let U=at;return queueMicrotask(()=>{const se=g.current;if(!se)return;const{start:ce,end:Ae}=$t(se),Ne=d.length,ge=_.length;Ft(se,Ne,ge),U=()=>{if(!Je(se))return;const{start:Xe,end:oo}=$t(se);Xe===Ne&&oo===ge&&Ft(se,ce,Ae)}}),()=>U()},[A,V,z,_,x,w,d]);const j=c.useRef(null),H=W(s),te=c.useRef(null);c.useEffect(()=>{if(!k||!L)return;const T=Xt(L);if(!T)return;j.current=T;const U=()=>{D.current=!1},se=()=>{if(!n||!D.current)return;const{activeId:Ae}=n.getState();Ae!==null&&Ae!==te.current&&(D.current=!1)},ce={passive:!0,capture:!0};return T.addEventListener("wheel",U,ce),T.addEventListener("touchmove",U,ce),T.addEventListener("scroll",se,ce),()=>{T.removeEventListener("wheel",U,!0),T.removeEventListener("touchmove",U,!0),T.removeEventListener("scroll",se,!0)}},[k,L,n]),G(()=>{d&&(M.current||(D.current=!0))},[d]),G(()=>{w!=="always"&&k||(D.current=k)},[w,k]);const ae=n.useState("resetValueOnSelect");ft(()=>{var T,U;const se=D.current;if(!n||!k||!se&&!ae)return;const{baseElement:ce,contentElement:Ae,activeId:Ne}=n.getState();if(!(ce&&!Je(ce))){if(Ae!=null&&Ae.hasAttribute("data-placing")){const ge=new MutationObserver(R);return ge.observe(Ae,{attributeFilter:["data-placing"]}),()=>ge.disconnect()}if(w&&se){const ge=H(x),Xe=ge!==void 0?ge:(T=_s(x))!=null?T:n.first();te.current=Xe,n.move(Xe??null)}else{const ge=(U=n.item(Ne||n.first()))==null?void 0:U.element;ge&&"scrollIntoView"in ge&&ge.scrollIntoView({block:"nearest",inline:"nearest"})}}},[n,k,A,d,w,ae,H,x]),c.useEffect(()=>{if(!V)return;const T=g.current;if(!T)return;const U=[T,L].filter(ce=>!!ce),se=ce=>{U.every(Ae=>Ge(ce,Ae))&&(n==null||n.setValue(v))};for(const ce of U)ce.addEventListener("focusout",se);return()=>{for(const ce of U)ce.removeEventListener("focusout",se)}},[V,L,n,v]);const ne=T=>T.currentTarget.value.length>=a,re=I.onChange,ve=ie(l??ne),Fe=ie(i??!n.tag),le=W(T=>{if(re==null||re(T),T.defaultPrevented||!n)return;const U=T.currentTarget,{value:se,selectionStart:ce,selectionEnd:Ae}=U,Ne=T.nativeEvent;if(D.current=!0,Rs(Ne)&&(Ne.isComposing&&(D.current=!1,M.current=!0),V)){const ge=Ne.inputType==="insertText"||Ne.inputType==="insertCompositionText",Xe=ce===se.length;B(ge&&Xe)}if(Fe(T)){const ge=se===n.getState().value;n.setValue(se),queueMicrotask(()=>{Ft(U,ce,Ae)}),V&&w&&ge&&R()}ve(T)&&n.show(),(!w||!D.current)&&n.setActiveId(null)}),be=I.onCompositionEnd,K=W(T=>{D.current=!0,M.current=!1,be==null||be(T),!T.defaultPrevented&&w&&R()}),xe=I.onMouseDown,de=ie(b??(()=>!!(n!=null&&n.getState().includesBaseElement))),Re=ie(h),Me=ie(p??ne),He=W(T=>{xe==null||xe(T),!T.defaultPrevented&&(T.button||T.ctrlKey||n&&(de(T)&&n.setActiveId(null),Re(T)&&n.setValue(v),Me(T)&&ot(T.currentTarget,"mouseup",n.show)))}),Ve=I.onKeyDown,ze=ie(S??ne),N=W(T=>{if(Ve==null||Ve(T),T.repeat||(D.current=!1),T.defaultPrevented||T.ctrlKey||T.altKey||T.shiftKey||T.metaKey||!n)return;const{open:U}=n.getState();U||(T.key==="ArrowUp"||T.key==="ArrowDown")&&ze(T)&&(T.preventDefault(),n.show())}),q=I.onBlur,fe=W(T=>{D.current=!1,q==null||q(T),T.defaultPrevented}),Y=Qe(I.id),Se=ks(E)?E:void 0,Oe=n.useState(T=>T.activeId===null);return I=$(C({id:Y,role:"combobox","aria-autocomplete":Se,"aria-haspopup":ir(L,"listbox"),"aria-expanded":k,"aria-controls":L==null?void 0:L.id,"data-active-item":Oe||void 0,value:v},I),{ref:he(g,I.ref),onChange:le,onCompositionEnd:K,onMouseDown:He,onKeyDown:N,onBlur:fe}),I=Lr($(C({store:n,focusable:o},I),{moveOnKeyPress:T=>or(F,T)?!1:(V&&B(!0),!0)})),I=kr(C({store:n},I)),C({autoComplete:"off"},I)}),Vs=J(function(t){const r=Ms(t);return Q(Fs,r)});function Ns(e={}){const t=zu(e);return O.jsx(Zu,{value:t,children:e.children})}var Ls="button";function Mn(e){if(!e.isTrusted)return!1;const t=e.currentTarget;return e.key==="Enter"?qe(t)||t.tagName==="SUMMARY"||t.tagName==="A":e.key===" "?qe(t)||t.tagName==="SUMMARY"||t.tagName==="INPUT"||t.tagName==="SELECT":!1}var js=Symbol("command"),mn=ee(function(t){var r=t,{clickOnEnter:n=!0,clickOnSpace:o=!0}=r,u=Z(r,["clickOnEnter","clickOnSpace"]);const s=c.useRef(null),[i,a]=c.useState(!1);c.useEffect(()=>{s.current&&a(qe(s.current))},[]);const[l,m]=c.useState(!1),p=c.useRef(!1),f=qt(u),[S,b]=mr(u,js,!0),h=u.onKeyDown,F=W(P=>{h==null||h(P);const g=P.currentTarget;if(P.defaultPrevented||S||f||!De(P)||Be(g)||g.isContentEditable)return;const A=n&&P.key==="Enter",R=o&&P.key===" ",D=P.key==="Enter"&&!n,M=P.key===" "&&!o;if(D||M){P.preventDefault();return}if(A||R){const w=Mn(P);if(A){if(!w){P.preventDefault();const V=P,z=Z(V,["view"]),B=()=>En(g,z);Ho()?ot(g,"keyup",B):queueMicrotask(B)}}else R&&(p.current=!0,w||(P.preventDefault(),m(!0)))}}),E=u.onKeyUp,I=W(P=>{if(E==null||E(P),P.defaultPrevented||S||f||P.metaKey)return;const g=o&&P.key===" ";if(p.current&&g&&(p.current=!1,!Mn(P))){P.preventDefault(),m(!1);const A=P.currentTarget,R=P,D=Z(R,["view"]);queueMicrotask(()=>En(A,D))}});return u=$(C(C({"data-active":l||void 0,type:i?"button":void 0},b),u),{ref:he(s,u.ref),onKeyDown:F,onKeyUp:I}),u=Tt(u),u});J(function(t){const r=mn(t);return Q(Ls,r)});var jr="button",$r=ee(function(t){const r=c.useRef(null),n=lr(r,jr),[o,u]=c.useState(()=>!!n&&qe({tagName:n,type:t.type}));return c.useEffect(()=>{r.current&&u(qe(r.current))},[]),t=$(C({role:!o&&n!=="a"?"button":void 0},t),{ref:he(r,t.ref)}),t=mn(t),t});J(function(t){const r=$r(t);return Q(jr,r)});var $s="button",Ks=Symbol("disclosure"),Kr=ee(function(t){var r=t,{store:n,toggleOnClick:o=!0}=r,u=Z(r,["store","toggleOnClick"]);const s=un();n=n||s,Ie(n,!1);const i=c.useRef(null),[a,l]=c.useState(!1),m=n.useState("disclosureElement"),p=n.useState("open");c.useEffect(()=>{let I=m===i.current;m!=null&&m.isConnected||(n==null||n.setDisclosureElement(i.current),I=!0),l(p&&I)},[m,n,p]);const f=u.onClick,S=ie(o),[b,h]=mr(u,Ks,!0),F=W(I=>{f==null||f(I),!I.defaultPrevented&&(b||S(I)&&(n==null||n.setDisclosureElement(I.currentTarget),n==null||n.toggle()))}),E=n.useState("contentElement");return u=$(C(C({"aria-expanded":a,"aria-controls":E==null?void 0:E.id},h),u),{ref:he(i,u.ref),onClick:F}),u=$r(u),u});J(function(t){const r=Kr(t);return Q($s,r)});var Bs="button",Br=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const u=It();n=n||u,Ie(n,!1);const s=n.useState("contentElement");return o=C({"aria-haspopup":ir(s,"dialog")},o),o=Kr(C({store:n},o)),o});J(function(t){const r=Br(t);return Q(Bs,r)});var Hs="button",zs=O.jsx("svg",{"aria-hidden":"true",display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",pointerEvents:"none",children:O.jsx("polyline",{points:"4,6 8,10 12,6"})}),Ws=ee(function(t){var r=t,{store:n}=r,o=Z(r,["store"]);const u=Ot();n=n||u,Ie(n,!1);const s=o.onMouseDown,i=W(p=>{s==null||s(p),p.preventDefault(),n==null||n.move(null)}),a=o.onClick,l=W(p=>{if(a==null||a(p),p.defaultPrevented||!n)return;const{baseElement:f}=n.getState();n.setDisclosureElement(f)}),m=n.useState("open");return o=$(C({children:zs,tabIndex:-1,"aria-label":m?"Hide popup":"Show popup","aria-expanded":m},o),{onMouseDown:i,onClick:l}),o=Br(C({store:n},o)),o}),Us=J(function(t){const r=Ws(t);return Q(Hs,r)}),qs=c.createContext(!1),Ys="span",Xs=O.jsx("svg",{display:"block",fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,viewBox:"0 0 16 16",height:"1em",width:"1em",children:O.jsx("polyline",{points:"4,8 7,12 12,4"})});function Gs(e){return e.checked?e.children||Xs:typeof e.children=="function"?e.children:null}var Hr=ee(function(t){var r=t,{store:n,checked:o}=r,u=Z(r,["store","checked"]);const s=c.useContext(qs);o=o??s;const i=Gs({checked:o,children:u.children});return u=$(C({"aria-hidden":!0},u),{children:i,style:C({width:"1em",height:"1em",pointerEvents:"none"},u.style)}),Ye(u)});J(function(t){const r=Hr(t);return Q(Ys,r)});var Js="span",Zs=ee(function(t){var r=t,{store:n,checked:o}=r,u=Z(r,["store","checked"]);const s=c.useContext(Rr);return o=o??s,u=Hr($(C({},u),{checked:o})),u}),Qs=J(function(t){const r=Zs(t);return Q(Js,r)}),ei="span";function Vn(e){return nr(e).toLowerCase()}function ti(e,t){const r=[];for(const n of t){let o=0;const u=n.length;for(;e.indexOf(n,o)!==-1;){const s=e.indexOf(n,o);s!==-1&&r.push([s,u]),o=s+1}}return r}function ni(e){return e.filter(([t,r],n,o)=>!o.some(([u,s],i)=>i!==n&&u<=t&&u+s>=t+r))}function ri(e){return e.sort(([t],[r])=>t-r)}function oi(e,t){if(!e||!t)return e;const r=Iu(t).filter(Boolean).map(Vn),n=[],o=(a,l=!1)=>O.jsx("span",{"data-autocomplete-value":l?"":void 0,"data-user-value":l?void 0:"",children:a},n.length),u=ri(ni(ti(Vn(e),new Set(r))));if(!u.length)return n.push(o(e,!0)),n;const[s]=u[0];return[e.slice(0,s),...u.flatMap(([a,l],m)=>{var p;const f=e.slice(a,a+l),S=(p=u[m+1])==null?void 0:p[0],b=e.slice(a+l,S);return[f,b]})].forEach((a,l)=>{a&&n.push(o(a,l%2===0))}),n}var ui=ee(function(t){var r=t,{store:n,value:o,userValue:u}=r,s=Z(r,["store","value","userValue"]);const i=ln();n=n||i;const a=c.useContext(Fr),l=o??a,m=Pe(n,f=>u??(f==null?void 0:f.value)),p=c.useMemo(()=>{if(l)return m?oi(l,m):l},[l,m]);return s=C({children:p},s),Ye(s)}),si=J(function(t){const r=ui(t);return Q(ei,r)}),ii="div";function zr(e){const t=e.relatedTarget;return(t==null?void 0:t.nodeType)===Node.ELEMENT_NODE?t:null}function ai(e){const t=zr(e);return t?pe(e.currentTarget,t):!1}var Ht=Symbol("composite-hover");function ci(e){let t=zr(e);if(!t)return!1;do{if(je(t,Ht)&&t[Ht])return!0;t=t.parentElement}while(t);return!1}var Wr=ee(function(t){var r=t,{store:n,focusOnHover:o=!0,blurOnHoverEnd:u=!!o}=r,s=Z(r,["store","focusOnHover","blurOnHoverEnd"]);const i=pr();n=n||i,Ie(n,!1);const a=Qo(),l=s.onMouseMove,m=ie(o),p=W(F=>{if(l==null||l(F),!F.defaultPrevented&&a()&&m(F)){if(!Mr(F.currentTarget)){const E=n==null?void 0:n.getState().baseElement;E&&!Je(E)&&E.focus()}n==null||n.setActiveId(F.currentTarget.id)}}),f=s.onMouseLeave,S=ie(u),b=W(F=>{var E;f==null||f(F),!F.defaultPrevented&&a()&&(ai(F)||ci(F)||m(F)&&S(F)&&(n==null||n.setActiveId(null),(E=n==null?void 0:n.getState().baseElement)==null||E.focus()))}),h=c.useCallback(F=>{F&&(F[Ht]=!0)},[]);return s=$(C({},s),{ref:he(h,s.ref),onMouseMove:p,onMouseLeave:b}),Ye(s)});Qt(J(function(t){const r=Wr(t);return Q(ii,r)}));var li="div",Ur=ee(function(t){var r=t,{store:n,shouldRegisterItem:o=!0,getItem:u=rr,element:s}=r,i=Z(r,["store","shouldRegisterItem","getItem","element"]);const a=nu();n=n||a;const l=Qe(i.id),m=c.useRef(s);return c.useEffect(()=>{const p=m.current;if(!l||!p||!o)return;const f=u({id:l,element:p});return n==null?void 0:n.renderItem(f)},[l,o,u,n]),i=$(C({},i),{ref:he(m,i.ref)}),Ye(i)});J(function(t){const r=Ur(t);return Q(li,r)});var fi="button";function di(e){return jt(e)?!0:e.tagName==="INPUT"&&!qe(e)}function mi(e,t=!1){const r=e.clientHeight,{top:n}=e.getBoundingClientRect(),o=Math.max(r*.875,r-40)*1.5,u=t?r-o+n:o+n;return e.tagName==="HTML"?u+e.scrollTop:u}function pi(e,t=!1){const{top:r}=e.getBoundingClientRect();return t?r+e.clientHeight:r}function Nn(e,t,r,n=!1){var o;if(!t||!r)return;const{renderedItems:u}=t.getState(),s=Xt(e);if(!s)return;const i=mi(s,n);let a,l;for(let m=0;m<u.length;m+=1){const p=a;if(a=r(m),!a)break;if(a===p)continue;const f=(o=Ue(t,a))==null?void 0:o.element;if(!f)continue;const b=pi(f,n)-i,h=Math.abs(b);if(n&&b<=0||!n&&b>=0){l!==void 0&&l<h&&(a=p);break}l=h}return a}function vi(e,t){return De(e)?!1:ct(t,e.target)}var qr=ee(function(t){var r=t,{store:n,rowId:o,preventScrollOnKeyDown:u=!1,moveOnKeyPress:s=!0,tabbable:i=!1,getItem:a,"aria-setsize":l,"aria-posinset":m}=r,p=Z(r,["store","rowId","preventScrollOnKeyDown","moveOnKeyPress","tabbable","getItem","aria-setsize","aria-posinset"]);const f=pr();n=n||f;const S=Qe(p.id),b=c.useRef(null),h=c.useContext(iu),E=qt(p)&&!p.accessibleWhenDisabled,{rowId:I,baseElement:P,isActiveItem:g,ariaSetSize:A,ariaPosInSet:R,isTabbable:D}=yr(n,{rowId(v){if(o)return o;if(v&&h!=null&&h.baseElement&&h.baseElement===v.baseElement)return h.id},baseElement(v){return(v==null?void 0:v.baseElement)||void 0},isActiveItem(v){return!!v&&v.activeId===S},ariaSetSize(v){if(l!=null)return l;if(v&&h!=null&&h.ariaSetSize&&h.baseElement===v.baseElement)return h.ariaSetSize},ariaPosInSet(v){if(m!=null)return m;if(!v||!(h!=null&&h.ariaPosInSet)||h.baseElement!==v.baseElement)return;const j=v.renderedItems.filter(H=>H.rowId===I);return h.ariaPosInSet+j.findIndex(H=>H.id===S)},isTabbable(v){if(!(v!=null&&v.renderedItems.length))return!0;if(v.virtualFocus)return!1;if(i)return!0;if(v.activeId===null)return!1;const j=n==null?void 0:n.item(v.activeId);return j!=null&&j.disabled||!(j!=null&&j.element)?!0:v.activeId===S}}),M=c.useCallback(v=>{var j;const H=$(C({},v),{id:S||v.id,rowId:I,disabled:!!E,children:(j=v.element)==null?void 0:j.textContent});return a?a(H):H},[S,I,E,a]),w=p.onFocus,V=c.useRef(!1),z=W(v=>{if(w==null||w(v),v.defaultPrevented||cr(v)||!S||!n||vi(v,n))return;const{virtualFocus:j,baseElement:H}=n.getState();if(n.setActiveId(S),jt(v.currentTarget)&&rs(v.currentTarget),!j||!De(v)||di(v.currentTarget)||!(H!=null&&H.isConnected))return;Pt()&&v.currentTarget.hasAttribute("data-autofocus")&&v.currentTarget.scrollIntoView({block:"nearest",inline:"nearest"}),V.current=!0,v.relatedTarget===H||ct(n,v.relatedTarget)?os(H):H.focus()}),B=p.onBlurCapture,d=W(v=>{if(B==null||B(v),v.defaultPrevented)return;const j=n==null?void 0:n.getState();j!=null&&j.virtualFocus&&V.current&&(V.current=!1,v.preventDefault(),v.stopPropagation())}),y=p.onKeyDown,_=ie(u),x=ie(s),k=W(v=>{if(y==null||y(v),v.defaultPrevented||!De(v)||!n)return;const{currentTarget:j}=v,H=n.getState(),te=n.item(S),ae=!!(te!=null&&te.rowId),ne=H.orientation!=="horizontal",re=H.orientation!=="vertical",ve=()=>!!(ae||re||!H.baseElement||!Be(H.baseElement)),le={ArrowUp:(ae||ne)&&n.up,ArrowRight:(ae||re)&&n.next,ArrowDown:(ae||ne)&&n.down,ArrowLeft:(ae||re)&&n.previous,Home:()=>{if(ve())return!ae||v.ctrlKey?n==null?void 0:n.first():n==null?void 0:n.previous(-1)},End:()=>{if(ve())return!ae||v.ctrlKey?n==null?void 0:n.last():n==null?void 0:n.next(-1)},PageUp:()=>Nn(j,n,n==null?void 0:n.up,!0),PageDown:()=>Nn(j,n,n==null?void 0:n.down)}[v.key];if(le){if(jt(j)){const K=$t(j),xe=re&&v.key==="ArrowLeft",de=re&&v.key==="ArrowRight",Re=ne&&v.key==="ArrowUp",Me=ne&&v.key==="ArrowDown";if(de||Me){const{length:He}=$o(j);if(K.end!==He)return}else if((xe||Re)&&K.start!==0)return}const be=le();if(_(v)||be!==void 0){if(!x(v))return;v.preventDefault(),n.move(be)}}}),L=c.useMemo(()=>({id:S,baseElement:P}),[S,P]);return p=we(p,v=>O.jsx(su.Provider,{value:L,children:v}),[L]),p=$(C({id:S,"data-active-item":g||void 0},p),{ref:he(b,p.ref),tabIndex:D?p.tabIndex:-1,onFocus:z,onBlurCapture:d,onKeyDown:k}),p=mn(p),p=Ur($(C({store:n},p),{getItem:M,shouldRegisterItem:S?p.shouldRegisterItem:!1})),Ye($(C({},p),{"aria-setsize":A,"aria-posinset":R}))});Qt(J(function(t){const r=qr(t);return Q(fi,r)}));var bi="div";function gi(e,t){if(t!=null)return e==null?!1:Array.isArray(e)?e.includes(t):e===t}function hi(e){var t;return(t={menu:"menuitem",listbox:"option",tree:"treeitem"}[e])!=null?t:"option"}var xi=ee(function(t){var r=t,{store:n,value:o,hideOnClick:u,setValueOnClick:s,selectValueOnClick:i=!0,resetValueOnSelect:a,focusOnHover:l=!1,moveOnKeyPress:m=!0,getItem:p}=r,f=Z(r,["store","value","hideOnClick","setValueOnClick","selectValueOnClick","resetValueOnSelect","focusOnHover","moveOnKeyPress","getItem"]),S;const b=ln();n=n||b,Ie(n,!1);const{resetValueOnSelectState:h,multiSelectable:F,selected:E}=yr(n,{resetValueOnSelectState:"resetValueOnSelect",multiSelectable(d){return Array.isArray(d.selectedValue)},selected(d){return gi(d.selectedValue,o)}}),I=c.useCallback(d=>{const y=$(C({},d),{value:o});return p?p(y):y},[o,p]);s=s??!F,u=u??(o!=null&&!F);const P=f.onClick,g=ie(s),A=ie(i),R=ie((S=a??h)!=null?S:F),D=ie(u),M=W(d=>{P==null||P(d),!d.defaultPrevented&&(Uo(d)||Wo(d)||(o!=null&&(A(d)&&(R(d)&&(n==null||n.resetValue()),n==null||n.setSelectedValue(y=>Array.isArray(y)?y.includes(o)?y.filter(_=>_!==o):[...y,o]:o)),g(d)&&(n==null||n.setValue(o))),D(d)&&(n==null||n.hide())))}),w=f.onKeyDown,V=W(d=>{if(w==null||w(d),d.defaultPrevented)return;const y=n==null?void 0:n.getState().baseElement;if(!y||Je(y))return;(d.key.length===1||d.key==="Backspace"||d.key==="Delete")&&(queueMicrotask(()=>y.focus()),Be(y)&&(n==null||n.setValue(y.value)))});F&&E!=null&&(f=C({"aria-selected":E},f)),f=we(f,d=>O.jsx(Fr.Provider,{value:o,children:O.jsx(Rr.Provider,{value:E??!1,children:d})}),[o,E]);const z=c.useContext(Tr);f=$(C({role:hi(z),children:o},f),{onClick:M,onKeyDown:V});const B=ie(m);return f=qr($(C({store:n},f),{getItem:I,moveOnKeyPress:d=>{if(!B(d))return!1;const y=new Event("combobox-item-move"),_=n==null?void 0:n.getState().baseElement;return _==null||_.dispatchEvent(y),!0}})),f=Wr(C({store:n,focusOnHover:l},f)),f}),Ln=Qt(J(function(t){const r=xi(t);return Q(bi,r)})),Si="div";function jn(e,t){const r=setTimeout(t,e);return()=>clearTimeout(r)}function yi(e){let t=requestAnimationFrame(()=>{t=requestAnimationFrame(e)});return()=>cancelAnimationFrame(t)}function $n(...e){return e.join(", ").split(", ").reduce((t,r)=>{const n=r.endsWith("ms")?1:1e3,o=Number.parseFloat(r||"0s")*n;return o>t?o:t},0)}function pn(e,t,r){return!r&&t!==!1&&(!e||!!t)}var vn=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,u=Z(r,["store","alwaysVisible"]);const s=un();n=n||s,Ie(n,!1);const i=c.useRef(null),a=Qe(u.id),[l,m]=c.useState(null),p=n.useState("open"),f=n.useState("mounted"),S=n.useState("animated"),b=n.useState("contentElement"),h=Pe(n.disclosure,"contentElement");G(()=>{i.current&&(n==null||n.setContentElement(i.current))},[n]),G(()=>{let P;return n==null||n.setState("animated",g=>(P=g,!0)),()=>{P!==void 0&&(n==null||n.setState("animated",P))}},[n]),G(()=>{if(S){if(!(b!=null&&b.isConnected)){m(null);return}return yi(()=>{m(p?"enter":f?"leave":null)})}},[S,b,p,f]),G(()=>{if(!n||!S||!l||!b)return;const P=()=>n==null?void 0:n.setState("animating",!1),g=()=>yt.flushSync(P);if(l==="leave"&&p||l==="enter"&&!p)return;if(typeof S=="number")return jn(S,g);const{transitionDuration:A,animationDuration:R,transitionDelay:D,animationDelay:M}=getComputedStyle(b),{transitionDuration:w="0",animationDuration:V="0",transitionDelay:z="0",animationDelay:B="0"}=h?getComputedStyle(h):{},d=$n(D,M,z,B),y=$n(A,R,w,V),_=d+y;if(!_){l==="enter"&&n.setState("animated",!1),P();return}const x=1e3/60,k=Math.max(_-x,0);return jn(k,g)},[n,S,b,h,p,l]),u=we(u,P=>O.jsx(an,{value:n,children:P}),[n]);const F=pn(f,u.hidden,o),E=u.style,I=c.useMemo(()=>F?$(C({},E),{display:"none"}):E,[F,E]);return u=$(C({id:a,"data-open":p||void 0,"data-enter":l==="enter"||void 0,"data-leave":l==="leave"||void 0,hidden:F},u),{ref:he(a?n.setContentElement:null,i,u.ref),style:I}),Ye(u)}),Ei=J(function(t){const r=vn(t);return Q(Si,r)});J(function(t){var r=t,{unmountOnHide:n}=r,o=Z(r,["unmountOnHide"]);const u=un(),s=o.store||u;return Pe(s,a=>!n||(a==null?void 0:a.mounted))===!1?null:O.jsx(Ei,C({},o))});var Ci="div",Yr=ee(function(t){var r=t,{store:n,alwaysVisible:o}=r,u=Z(r,["store","alwaysVisible"]);const s=ln(!0),i=Ju();n=n||i;const a=!!n&&n===s;Ie(n,!1);const l=c.useRef(null),m=Qe(u.id),p=n.useState("mounted"),f=pn(p,u.hidden,o),S=f?$(C({},u.style),{display:"none"}):u.style,b=n.useState(R=>Array.isArray(R.selectedValue)),h=Jo(l,"role",u.role),E=(h==="listbox"||h==="tree"||h==="grid")&&b||void 0,[I,P]=c.useState(!1),g=n.useState("contentElement");G(()=>{if(!p)return;const R=l.current;if(!R||g!==R)return;const D=()=>{P(!!R.querySelector("[role='listbox']"))},M=new MutationObserver(D);return M.observe(R,{subtree:!0,childList:!0,attributeFilter:["role"]}),D(),()=>M.disconnect()},[p,g]),I||(u=C({role:"listbox","aria-multiselectable":E},u)),u=we(u,R=>O.jsx(Qu,{value:n,children:O.jsx(Tr.Provider,{value:h,children:R})}),[n,h]);const A=m&&(!s||!a)?n.setContentElement:null;return u=$(C({id:m,hidden:f},u),{ref:he(A,l,u.ref),style:S}),Ye(u)});J(function(t){const r=Yr(t);return Q(Ci,r)});function Xr(e,...t){if(!e)return!1;const r=e.getAttribute("data-backdrop");return r==null?!1:r===""||r==="true"||!t.length?!0:t.some(n=>r===n)}var Mt=new WeakMap;function gt(e,t,r){Mt.has(e)||Mt.set(e,new Map);const n=Mt.get(e),o=n.get(t);if(!o)return n.set(t,r()),()=>{var i;(i=n.get(t))==null||i(),n.delete(t)};const u=r(),s=()=>{u(),o(),n.delete(t)};return n.set(t,s),()=>{n.get(t)===s&&(u(),n.set(t,o))}}function bn(e,t,r){return gt(e,t,()=>{const o=e.getAttribute(t);return e.setAttribute(t,r),()=>{o==null?e.removeAttribute(t):e.setAttribute(t,o)}})}function Ze(e,t,r){return gt(e,t,()=>{const o=t in e,u=e[t];return e[t]=r,()=>{o?e[t]=u:delete e[t]}})}function zt(e,t){return e?gt(e,"style",()=>{const n=e.style.cssText;return Object.assign(e.style,t),()=>{e.style.cssText=n}}):()=>{}}function wi(e,t,r){return e?gt(e,t,()=>{const o=e.style.getPropertyValue(t);return e.style.setProperty(t,r),()=>{o?e.style.setProperty(t,o):e.style.removeProperty(t)}}):()=>{}}var Pi=["SCRIPT","STYLE"];function Wt(e){return`__ariakit-dialog-snapshot-${e}`}function Ii(e,t){const r=ue(t),n=Wt(e);if(!r.body[n])return!0;do{if(t===r.body)return!1;if(t[n])return!0;if(!t.parentElement)return!1;t=t.parentElement}while(!0)}function Oi(e,t,r){return Pi.includes(t.tagName)||!Ii(e,t)?!1:!r.some(n=>n&&pe(t,n))}function gn(e,t,r,n){for(let o of t){if(!(o!=null&&o.isConnected))continue;const u=t.some(a=>!a||a===o?!1:a.contains(o)),s=ue(o),i=o;for(;o.parentElement&&o!==s.body;){if(n==null||n(o.parentElement,i),!u)for(const a of o.parentElement.children)Oi(e,a,t)&&r(a,i);o=o.parentElement}}}function Ai(e,t){const{body:r}=ue(t[0]),n=[];return gn(e,t,u=>{n.push(Ze(u,Wt(e),!0))}),Te(Ze(r,Wt(e),!0),()=>{for(const u of n)u()})}function st(e="",t=!1){return`__ariakit-dialog-${t?"ancestor":"outside"}${e?`-${e}`:""}`}function Di(e,t=""){return Te(Ze(e,st(),!0),Ze(e,st(t),!0))}function Gr(e,t=""){return Te(Ze(e,st("",!0),!0),Ze(e,st(t,!0),!0))}function hn(e,t){const r=st(t,!0);if(e[r])return!0;const n=st(t);do{if(e[n])return!0;if(!e.parentElement)return!1;e=e.parentElement}while(!0)}function Kn(e,t){const r=[],n=t.map(u=>u==null?void 0:u.id);return gn(e,t,u=>{Xr(u,...n)||r.unshift(Di(u,e))},(u,s)=>{s.hasAttribute("data-dialog")&&s.id!==e||r.unshift(Gr(u,e))}),()=>{for(const u of r)u()}}var Ti="div",Fi=["a","button","details","dialog","div","form","h1","h2","h3","h4","h5","h6","header","img","input","label","li","nav","ol","p","section","select","span","summary","textarea","ul","svg"];ee(function(t){return t});var Ut=J(function(t){return Q(Ti,t)});Object.assign(Ut,Fi.reduce((e,t)=>(e[t]=J(function(n){return Q(t,n)}),e),{}));function Ri({store:e,backdrop:t,alwaysVisible:r,hidden:n}){const o=c.useRef(null),u=Vu({disclosure:e}),s=Pe(e,"contentElement");c.useEffect(()=>{const l=o.current,m=s;l&&m&&(l.style.zIndex=getComputedStyle(m).zIndex)},[s]),G(()=>{const l=s==null?void 0:s.id;if(!l)return;const m=o.current;if(m)return Gr(m,l)},[s]);const i=vn({ref:o,store:u,role:"presentation","data-backdrop":(s==null?void 0:s.id)||"",alwaysVisible:r,hidden:n??void 0,style:{position:"fixed",top:0,right:0,bottom:0,left:0}});if(!t)return null;if(c.isValidElement(t))return O.jsx(Ut,$(C({},i),{render:t}));const a=typeof t!="boolean"?t:"div";return O.jsx(Ut,$(C({},i),{render:O.jsx(a,{})}))}function ki(e,...t){if(!e)return!1;const r=e.getAttribute("data-focus-trap");return r==null?!1:t.length?r===""?!1:t.some(n=>r===n):!0}function _i(e){return bn(e,"aria-hidden","true")}function Jr(){return"inert"in HTMLElement.prototype}function Zr(e,t){if(!("style"in e))return at;if(Jr())return Ze(e,"inert",!0);const n=Dt(e,!0).map(o=>{if(t!=null&&t.some(s=>s&&pe(s,o)))return at;const u=gt(o,"focus",()=>(o.focus=at,()=>{delete o.focus}));return Te(bn(o,"tabindex","-1"),u)});return Te(...n,_i(e),zt(e,{pointerEvents:"none",userSelect:"none",cursor:"default"}))}function Mi(e,t){const r=[],n=t.map(u=>u==null?void 0:u.id);return gn(e,t,u=>{Xr(u,...n)||ki(u,...n)||r.unshift(Zr(u,t))},u=>{u.hasAttribute("role")&&(t.some(s=>s&&pe(s,u))||r.unshift(bn(u,"role","none")))}),()=>{for(const u of r)u()}}function Vi({attribute:e,contentId:t,contentElement:r,enabled:n}){const[o,u]=fr(),s=c.useCallback(()=>{if(!n||!r)return!1;const{body:i}=ue(r),a=i.getAttribute(e);return!a||a===t},[o,n,r,e,t]);return c.useEffect(()=>{if(!n||!t||!r)return;const{body:i}=ue(r);if(s())return i.setAttribute(e,t),()=>i.removeAttribute(e);const a=new MutationObserver(()=>yt.flushSync(u));return a.observe(i,{attributeFilter:[e]}),()=>a.disconnect()},[o,n,t,r,s,e]),s}function Ni(e){const t=e.getBoundingClientRect().left;return Math.round(t)+e.scrollLeft?"paddingLeft":"paddingRight"}function Li(e,t,r){const n=Vi({attribute:"data-dialog-prevent-body-scroll",contentElement:e,contentId:t,enabled:r});c.useEffect(()=>{if(!n()||!e)return;const o=ue(e),u=ur(e),{documentElement:s,body:i}=o,a=s.style.getPropertyValue("--scrollbar-width"),l=a?Number.parseInt(a):u.innerWidth-s.clientWidth,m=()=>wi(s,"--scrollbar-width",`${l}px`),p=Ni(s),f=()=>zt(i,{overflow:"hidden",[p]:`${l}px`}),S=()=>{var h,F;const{scrollX:E,scrollY:I,visualViewport:P}=u,g=(h=P==null?void 0:P.offsetLeft)!=null?h:0,A=(F=P==null?void 0:P.offsetTop)!=null?F:0,R=zt(i,{position:"fixed",overflow:"hidden",top:`${-(I-Math.floor(A))}px`,left:`${-(E-Math.floor(g))}px`,right:"0",[p]:`${l}px`});return()=>{R(),u.scrollTo({left:E,top:I,behavior:"instant"})}},b=Gt()&&!zo();return Te(m(),b?S():f())},[n,e])}var Bn=c.createContext({});function ji(e){const t=c.useContext(Bn),[r,n]=c.useState([]),o=c.useCallback(i=>{var a;return n(l=>[...l,i]),Te((a=t.add)==null?void 0:a.call(t,i),()=>{n(l=>l.filter(m=>m!==i))})},[t]);G(()=>Ce(e,["open","contentElement"],i=>{var a;if(i.open&&i.contentElement)return(a=t.add)==null?void 0:a.call(t,e)}),[e,t]);const u=c.useMemo(()=>({store:e,add:o}),[e,o]);return{wrapElement:c.useCallback(i=>O.jsx(Bn.Provider,{value:u,children:i}),[u]),nestedDialogs:r}}function $i(e){const t=c.useRef();return c.useEffect(()=>{if(!e){t.current=null;return}return ke("mousedown",n=>{t.current=n.target},!0)},[e]),t}function Ki(e){return e.tagName==="HTML"?!0:pe(ue(e).body,e)}function Bi(e,t){if(!e)return!1;if(pe(e,t))return!0;const r=t.getAttribute("aria-activedescendant");if(r){const n=ue(e).getElementById(r);if(n)return pe(e,n)}return!1}function Hi(e,t){if(!("clientY"in e))return!1;const r=t.getBoundingClientRect();return r.width===0||r.height===0?!1:r.top<=e.clientY&&e.clientY<=r.top+r.height&&r.left<=e.clientX&&e.clientX<=r.left+r.width}function Vt({store:e,type:t,listener:r,capture:n,domReady:o}){const u=W(r),s=Pe(e,"open"),i=c.useRef(!1);G(()=>{if(!s||!o)return;const{contentElement:a}=e.getState();if(!a)return;const l=()=>{i.current=!0};return a.addEventListener("focusin",l,!0),()=>a.removeEventListener("focusin",l,!0)},[e,s,o]),c.useEffect(()=>s?ke(t,l=>{const{contentElement:m,disclosureElement:p}=e.getState(),f=l.target;!m||!f||!Ki(f)||pe(m,f)||Bi(p,f)||f.hasAttribute("data-focus-trap")||Hi(l,m)||i.current&&!hn(f,m.id)||gs(f)||u(l)},n):void 0,[s,n])}function Nt(e,t){return typeof e=="function"?e(t):!!e}function zi(e,t,r){const n=Pe(e,"open"),o=$i(n),u={store:e,domReady:r,capture:!0};Vt($(C({},u),{type:"click",listener:s=>{const{contentElement:i}=e.getState(),a=o.current;a&&sr(a)&&hn(a,i==null?void 0:i.id)&&Nt(t,s)&&e.hide()}})),Vt($(C({},u),{type:"focusin",listener:s=>{const{contentElement:i}=e.getState();i&&s.target!==ue(i)&&Nt(t,s)&&e.hide()}})),Vt($(C({},u),{type:"contextmenu",listener:s=>{Nt(t,s)&&e.hide()}}))}function Wi(e,t){const n=ue(e).createElement("button");return n.type="button",n.tabIndex=-1,n.textContent="Dismiss popup",Object.assign(n.style,{border:"0px",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0px",position:"absolute",whiteSpace:"nowrap",width:"1px"}),n.addEventListener("click",t),e.prepend(n),()=>{n.removeEventListener("click",t),n.remove()}}var Ui="div",Qr=ee(function(t){var r=t,{autoFocusOnShow:n=!0}=r,o=Z(r,["autoFocusOnShow"]);return o=we(o,u=>O.jsx(_r.Provider,{value:n,children:u}),[n]),o});J(function(t){const r=Qr(t);return Q(Ui,r)});var Hn=c.createContext(0);function qi({level:e,children:t}){const r=c.useContext(Hn),n=Math.max(Math.min(e||r+1,6),1);return O.jsx(Hn.Provider,{value:n,children:t})}var Yi="span",eo=ee(function(t){return t=$(C({},t),{style:C({border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},t.style)}),t});J(function(t){const r=eo(t);return Q(Yi,r)});var Xi="span",Gi=ee(function(t){return t=$(C({"data-focus-trap":"",tabIndex:0,"aria-hidden":!0},t),{style:C({position:"fixed",top:0,left:0},t.style)}),t=eo(t),t}),St=J(function(t){const r=Gi(t);return Q(Xi,r)}),zn=c.createContext(null),Ji="div";function Zi(e){return ue(e).body}function Qi(e,t){return t?typeof t=="function"?t(e):t:ue(e).createElement("div")}function ea(e="id"){return`${e?`${e}-`:""}${Math.random().toString(36).slice(2,8)}`}function We(e){queueMicrotask(()=>{e==null||e.focus()})}var to=ee(function(t){var r=t,{preserveTabOrder:n,preserveTabOrderAnchor:o,portalElement:u,portalRef:s,portal:i=!0}=r,a=Z(r,["preserveTabOrder","preserveTabOrderAnchor","portalElement","portalRef","portal"]);const l=c.useRef(null),m=he(l,a.ref),p=c.useContext(zn),[f,S]=c.useState(null),[b,h]=c.useState(null),F=c.useRef(null),E=c.useRef(null),I=c.useRef(null),P=c.useRef(null);return G(()=>{const g=l.current;if(!g||!i){S(null);return}const A=Qi(g,u);if(!A){S(null);return}const R=A.isConnected;if(R||(p||Zi(g)).appendChild(A),A.id||(A.id=g.id?`portal/${g.id}`:ea()),S(A),Lt(s,A),!R)return()=>{A.remove(),Lt(s,null)}},[i,u,p,s]),G(()=>{if(!i||!n||!o)return;const A=ue(o).createElement("span");return A.style.position="fixed",o.insertAdjacentElement("afterend",A),h(A),()=>{A.remove(),h(null)}},[i,n,o]),c.useEffect(()=>{if(!f||!n)return;let g=0;const A=R=>{if(!Ge(R))return;const D=R.type==="focusin";if(cancelAnimationFrame(g),D)return ms(f);g=requestAnimationFrame(()=>{ds(f,!0)})};return f.addEventListener("focusin",A,!0),f.addEventListener("focusout",A,!0),()=>{cancelAnimationFrame(g),f.removeEventListener("focusin",A,!0),f.removeEventListener("focusout",A,!0)}},[f,n]),a=we(a,g=>{if(g=O.jsx(zn.Provider,{value:f||p,children:g}),!i)return g;if(!f)return O.jsx("span",{ref:m,id:a.id,style:{position:"fixed"},hidden:!0});g=O.jsxs(O.Fragment,{children:[n&&f&&O.jsx(St,{ref:E,"data-focus-trap":a.id,className:"__focus-trap-inner-before",onFocus:R=>{Ge(R,f)?We(kt()):We(F.current)}}),g,n&&f&&O.jsx(St,{ref:I,"data-focus-trap":a.id,className:"__focus-trap-inner-after",onFocus:R=>{Ge(R,f)?We(An()):We(P.current)}})]}),f&&(g=yt.createPortal(g,f));let A=O.jsxs(O.Fragment,{children:[n&&f&&O.jsx(St,{ref:F,"data-focus-trap":a.id,className:"__focus-trap-outer-before",onFocus:R=>{!(R.relatedTarget===P.current)&&Ge(R,f)?We(E.current):We(An())}}),n&&O.jsx("span",{"aria-owns":f==null?void 0:f.id,style:{position:"fixed"}}),n&&f&&O.jsx(St,{ref:P,"data-focus-trap":a.id,className:"__focus-trap-outer-after",onFocus:R=>{if(Ge(R,f))We(I.current);else{const D=kt();if(D===E.current){requestAnimationFrame(()=>{var M;return(M=kt())==null?void 0:M.focus()});return}We(D)}}})]});return b&&n&&(A=yt.createPortal(A,b)),O.jsxs(O.Fragment,{children:[A,g]})},[f,p,i,a.id,n,b]),a=$(C({},a),{ref:m}),a});J(function(t){const r=to(t);return Q(Ji,r)});var ta="div",Wn=Pt();function na(e){const t=Ke();return!t||e&&pe(e,t)?!1:!!_e(t)}function Un(e,t=!1){if(!e)return null;const r="current"in e?e.current:e;return r?t?_e(r)?r:null:r:null}var no=ee(function(t){var r=t,{store:n,open:o,onClose:u,focusable:s=!0,modal:i=!0,portal:a=!!i,backdrop:l=!!i,hideOnEscape:m=!0,hideOnInteractOutside:p=!0,getPersistentElements:f,preventBodyScroll:S=!!i,autoFocusOnShow:b=!0,autoFocusOnHide:h=!0,initialFocus:F,finalFocus:E,unmountOnHide:I,unstable_treeSnapshotKey:P}=r,g=Z(r,["store","open","onClose","focusable","modal","portal","backdrop","hideOnEscape","hideOnInteractOutside","getPersistentElements","preventBodyScroll","autoFocusOnShow","autoFocusOnHide","initialFocus","finalFocus","unmountOnHide","unstable_treeSnapshotKey"]);const A=It(),R=c.useRef(null),D=Nu({store:n||A,open:o,setOpen(N){if(N)return;const q=R.current;if(!q)return;const fe=new Event("close",{bubbles:!1,cancelable:!0});u&&q.addEventListener("close",u,{once:!0}),q.dispatchEvent(fe),fe.defaultPrevented&&D.setOpen(!0)}}),{portalRef:M,domReady:w}=dr(a,g.portalRef),V=g.preserveTabOrder,z=Pe(D,N=>V&&!i&&N.mounted),B=Qe(g.id),d=Pe(D,"open"),y=Pe(D,"mounted"),_=Pe(D,"contentElement"),x=pn(y,g.hidden,g.alwaysVisible);Li(_,B,S&&!x),zi(D,p,w);const{wrapElement:k,nestedDialogs:L}=ji(D);g=we(g,k,[k]),G(()=>{if(!d)return;const N=R.current,q=Ke(N,!0);q&&q.tagName!=="BODY"&&(N&&pe(N,q)||D.setDisclosureElement(q))},[D,d]),Wn&&c.useEffect(()=>{if(!y)return;const{disclosureElement:N}=D.getState();if(!N||!qe(N))return;const q=()=>{let fe=!1;const Y=()=>{fe=!0},Se={capture:!0,once:!0};N.addEventListener("focusin",Y,Se),ot(N,"mouseup",()=>{N.removeEventListener("focusin",Y,!0),!fe&&Vr(N)})};return N.addEventListener("mousedown",q),()=>{N.removeEventListener("mousedown",q)}},[D,y]),c.useEffect(()=>{if(!y||!w)return;const N=R.current;if(!N)return;const q=ur(N),fe=q.visualViewport||q,Y=()=>{var Se,Oe;const T=(Oe=(Se=q.visualViewport)==null?void 0:Se.height)!=null?Oe:q.innerHeight;N.style.setProperty("--dialog-viewport-height",`${T}px`)};return Y(),fe.addEventListener("resize",Y),()=>{fe.removeEventListener("resize",Y)}},[y,w]),c.useEffect(()=>{if(!i||!y||!w)return;const N=R.current;if(!(!N||N.querySelector("[data-dialog-dismiss]")))return Wi(N,D.hide)},[D,i,y,w]),G(()=>{if(!Jr()||d||!y||!w)return;const N=R.current;if(N)return Zr(N)},[d,y,w]);const v=d&&w;G(()=>{if(!B||!v)return;const N=R.current;return Ai(B,[N])},[B,v,P]);const j=W(f);G(()=>{if(!B||!v)return;const{disclosureElement:N}=D.getState(),q=R.current,fe=j()||[],Y=[q,...fe,...L.map(Se=>Se.getState().contentElement)];return i?Te(Kn(B,Y),Mi(B,Y)):Kn(B,[N,...Y])},[B,D,v,j,L,i,P]);const H=!!b,te=ie(b),[ae,ne]=c.useState(!1);c.useEffect(()=>{if(!d||!H||!w||!(_!=null&&_.isConnected))return;const N=Un(F,!0)||_.querySelector("[data-autofocus=true],[autofocus]")||is(_,!0,a&&z)||_,q=_e(N);te(q?N:null)&&(ne(!0),queueMicrotask(()=>{N.focus(),Wn&&N.scrollIntoView({block:"nearest",inline:"nearest"})}))},[d,H,w,_,F,a,z,te]);const re=!!h,ve=ie(h),[Fe,le]=c.useState(!1);c.useEffect(()=>{if(d)return le(!0),()=>le(!1)},[d]);const be=c.useCallback((N,q=!0)=>{const{disclosureElement:fe}=D.getState();if(na(N))return;let Y=Un(E)||fe;if(Y!=null&&Y.id){const Oe=ue(Y),T=`[aria-activedescendant="${Y.id}"]`,U=Oe.querySelector(T);U&&(Y=U)}if(Y&&!_e(Y)){const Oe=Y.closest("[data-dialog]");if(Oe!=null&&Oe.id){const T=ue(Oe),U=`[aria-controls~="${Oe.id}"]`,se=T.querySelector(U);se&&(Y=se)}}const Se=Y&&_e(Y);if(!Se&&q){requestAnimationFrame(()=>be(N,!1));return}ve(Se?Y:null)&&Se&&(Y==null||Y.focus())},[D,E,ve]),K=c.useRef(!1);G(()=>{if(d||!Fe||!re)return;const N=R.current;K.current=!0,be(N)},[d,Fe,w,re,be]),c.useEffect(()=>{if(!Fe||!re)return;const N=R.current;return()=>{if(K.current){K.current=!1;return}be(N)}},[Fe,re,be]);const xe=ie(m);c.useEffect(()=>!w||!y?void 0:ke("keydown",q=>{if(q.key!=="Escape"||q.defaultPrevented)return;const fe=R.current;if(!fe||hn(fe))return;const Y=q.target;if(!Y)return;const{disclosureElement:Se}=D.getState();!!(Y.tagName==="BODY"||pe(fe,Y)||!Se||pe(Se,Y))&&xe(q)&&D.hide()},!0),[D,w,y,xe]),g=we(g,N=>O.jsx(qi,{level:i?1:void 0,children:N}),[i]);const de=g.hidden,Re=g.alwaysVisible;g=we(g,N=>l?O.jsxs(O.Fragment,{children:[O.jsx(Ri,{store:D,backdrop:l,hidden:de,alwaysVisible:Re}),N]}):N,[D,l,de,Re]);const[Me,He]=c.useState(),[Ve,ze]=c.useState();return g=we(g,N=>O.jsx(an,{value:D,children:O.jsx(Yu.Provider,{value:He,children:O.jsx(Xu.Provider,{value:ze,children:N})})}),[D]),g=$(C({id:B,"data-dialog":"",role:"dialog",tabIndex:s?-1:void 0,"aria-labelledby":Me,"aria-describedby":Ve},g),{ref:he(R,g.ref)}),g=Qr($(C({},g),{autoFocusOnShow:ae})),g=vn(C({store:D},g)),g=Tt($(C({},g),{focusable:s})),g=to($(C({portal:a},g),{portalRef:M,preserveTabOrder:z})),g});function xn(e,t=It){return J(function(n){const o=t(),u=n.store||o;return Pe(u,i=>!n.unmountOnHide||(i==null?void 0:i.mounted)||!!n.open)?O.jsx(e,C({},n)):null})}xn(J(function(t){const r=no(t);return Q(ta,r)}),It);var ra="div";function qn(e=0,t=0,r=0,n=0){if(typeof DOMRect=="function")return new DOMRect(e,t,r,n);const o={x:e,y:t,width:r,height:n,top:t,right:e+r,bottom:t+n,left:e};return $(C({},o),{toJSON:()=>o})}function oa(e){if(!e)return qn();const{x:t,y:r,width:n,height:o}=e;return qn(t,r,n,o)}function ua(e,t){return{contextElement:e||void 0,getBoundingClientRect:()=>{const n=e,o=t==null?void 0:t(n);return o||!n?oa(o):n.getBoundingClientRect()}}}function sa(e){return/^(?:top|bottom|left|right)(?:-(?:start|end))?$/.test(e)}function Yn(e){const t=window.devicePixelRatio||1;return Math.round(e*t)/t}function ia(e,t){return co(({placement:r})=>{var n;const o=((e==null?void 0:e.clientHeight)||0)/2,u=typeof t.gutter=="number"?t.gutter+o:(n=t.gutter)!=null?n:o;return{crossAxis:!!r.split("-")[1]?void 0:t.shift,mainAxis:u,alignmentAxis:t.shift}})}function aa(e){if(e.flip===!1)return;const t=typeof e.flip=="string"?e.flip.split(" "):void 0;return Ie(!t||t.every(sa),!1),lo({padding:e.overflowPadding,fallbackPlacements:t})}function ca(e){if(!(!e.slide&&!e.overlap))return fo({mainAxis:e.slide,crossAxis:e.overlap,padding:e.overflowPadding,limiter:mo()})}function la(e){return po({padding:e.overflowPadding,apply({elements:t,availableWidth:r,availableHeight:n,rects:o}){const u=t.floating,s=Math.round(o.reference.width);r=Math.floor(r),n=Math.floor(n),u.style.setProperty("--popover-anchor-width",`${s}px`),u.style.setProperty("--popover-available-width",`${r}px`),u.style.setProperty("--popover-available-height",`${n}px`),e.sameWidth&&(u.style.width=`${s}px`),e.fitViewport&&(u.style.maxWidth=`${r}px`,u.style.maxHeight=`${n}px`)}})}function fa(e,t){if(e)return vo({element:e,padding:t.arrowPadding})}var ro=ee(function(t){var r=t,{store:n,modal:o=!1,portal:u=!!o,preserveTabOrder:s=!0,autoFocusOnShow:i=!0,wrapperProps:a,fixed:l=!1,flip:m=!0,shift:p=0,slide:f=!0,overlap:S=!1,sameWidth:b=!1,fitViewport:h=!1,gutter:F,arrowPadding:E=4,overflowPadding:I=8,getAnchorRect:P,updatePosition:g}=r,A=Z(r,["store","modal","portal","preserveTabOrder","autoFocusOnShow","wrapperProps","fixed","flip","shift","slide","overlap","sameWidth","fitViewport","gutter","arrowPadding","overflowPadding","getAnchorRect","updatePosition"]);const R=cn();n=n||R,Ie(n,!1);const D=n.useState("arrowElement"),M=n.useState("anchorElement"),w=n.useState("disclosureElement"),V=n.useState("popoverElement"),z=n.useState("contentElement"),B=n.useState("placement"),d=n.useState("mounted"),y=n.useState("rendered"),_=c.useRef(null),[x,k]=c.useState(!1),{portalRef:L,domReady:v}=dr(u,A.portalRef),j=W(P),H=W(g),te=!!g;G(()=>{if(!(V!=null&&V.isConnected))return;V.style.setProperty("--popover-overflow-padding",`${I}px`);const ne=ua(M,j),re=async()=>{if(!d)return;D||(_.current=_.current||document.createElement("div"));const le=D||_.current,be=[ia(le,{gutter:F,shift:p}),aa({flip:m,overflowPadding:I}),ca({slide:f,shift:p,overlap:S,overflowPadding:I}),fa(le,{arrowPadding:E}),la({sameWidth:b,fitViewport:h,overflowPadding:I})],K=await ao(ne,V,{placement:B,strategy:l?"fixed":"absolute",middleware:be});n==null||n.setState("currentPlacement",K.placement),k(!0);const xe=Yn(K.x),de=Yn(K.y);if(Object.assign(V.style,{top:"0",left:"0",transform:`translate3d(${xe}px,${de}px,0)`}),le&&K.middlewareData.arrow){const{x:Re,y:Me}=K.middlewareData.arrow,He=K.placement.split("-")[0],Ve=le.clientWidth/2,ze=le.clientHeight/2,N=Re!=null?Re+Ve:-Ve,q=Me!=null?Me+ze:-ze;V.style.setProperty("--popover-transform-origin",{top:`${N}px calc(100% + ${ze}px)`,bottom:`${N}px ${-ze}px`,left:`calc(100% + ${Ve}px) ${q}px`,right:`${-Ve}px ${q}px`}[He]),Object.assign(le.style,{left:Re!=null?`${Re}px`:"",top:Me!=null?`${Me}px`:"",[He]:"100%"})}},Fe=io(ne,V,async()=>{te?(await H({updatePosition:re}),k(!0)):await re()},{elementResize:typeof ResizeObserver=="function"});return()=>{k(!1),Fe()}},[n,y,V,D,M,V,B,d,v,l,m,p,f,S,b,h,F,E,I,j,te,H]),G(()=>{if(!d||!v||!(V!=null&&V.isConnected)||!(z!=null&&z.isConnected))return;const ne=()=>{V.style.zIndex=getComputedStyle(z).zIndex};ne();let re=requestAnimationFrame(()=>{re=requestAnimationFrame(ne)});return()=>cancelAnimationFrame(re)},[d,v,V,z]);const ae=l?"fixed":"absolute";return A=we(A,ne=>O.jsx("div",$(C({},a),{style:C({position:ae,top:0,left:0,width:"max-content"},a==null?void 0:a.style),ref:n==null?void 0:n.setPopoverElement,children:ne})),[n,ae,a]),A=we(A,ne=>O.jsx(Dr,{value:n,children:ne}),[n]),A=$(C({"data-placing":!x||void 0},A),{style:C({position:"relative"},A.style)}),A=no($(C({store:n,modal:o,portal:u,preserveTabOrder:s,preserveTabOrderAnchor:w||M,autoFocusOnShow:x&&i},A),{portalRef:L})),A});xn(J(function(t){const r=ro(t);return Q(ra,r)}),cn);var da="div";function ma(e,...t){if(!e)return!1;if("id"in e){const r=t.filter(Boolean).map(n=>`[aria-controls~="${n}"]`).join(", ");return r?e.matches(r):!1}return!1}var pa=ee(function(t){var r=t,{store:n,modal:o,tabIndex:u,alwaysVisible:s,autoFocusOnHide:i=!0,hideOnInteractOutside:a=!0}=r,l=Z(r,["store","modal","tabIndex","alwaysVisible","autoFocusOnHide","hideOnInteractOutside"]);const m=Ot();n=n||m,Ie(n,!1);const p=n.useState("baseElement"),f=c.useRef(!1),S=Pe(n.tag,b=>b==null?void 0:b.renderedItems.length);return l=Yr(C({store:n,alwaysVisible:s},l)),l=ro($(C({store:n,modal:o,alwaysVisible:s,backdrop:!1,autoFocusOnShow:!1,finalFocus:p,preserveTabOrderAnchor:null,unstable_treeSnapshotKey:S},l),{getPersistentElements(){var b;const h=((b=l.getPersistentElements)==null?void 0:b.call(l))||[];if(!o||!n)return h;const{contentElement:F,baseElement:E}=n.getState();if(!E)return h;const I=ue(E),P=[];if(F!=null&&F.id&&P.push(`[aria-controls~="${F.id}"]`),E!=null&&E.id&&P.push(`[aria-controls~="${E.id}"]`),!P.length)return[...h,E];const g=P.join(","),A=I.querySelectorAll(g);return[...h,...A]},autoFocusOnHide(b){return or(i,b)?!1:f.current?(f.current=!1,!1):!0},hideOnInteractOutside(b){var h,F;const E=n==null?void 0:n.getState(),I=(h=E==null?void 0:E.contentElement)==null?void 0:h.id,P=(F=E==null?void 0:E.baseElement)==null?void 0:F.id;if(ma(b.target,I,P))return!1;const g=typeof a=="function"?a(b):a;return g&&(f.current=b.type==="click"),g}})),l}),va=xn(J(function(t){const r=pa(t);return Q(da,r)}),Ot),ba="hr",ga=ee(function(t){var r=t,{orientation:n="horizontal"}=r,o=Z(r,["orientation"]);return o=C({role:"separator","aria-orientation":n},o),o}),ha=J(function(t){const r=ga(t);return Q(ba,r)});function xa(e){return c.forwardRef(e)}var Xn=8,Gn=28,Sa=({value:e,onChange:t,searchValue:r,onSearchValueChange:n,options:o,className:u,placeholder:s,fetchNextPage:i,isFetchingNextPage:a,onCreateOption:l,noResultsPlaceholder:m,...p},f)=>{var be;const[S,b]=c.useState(!1),[h,F]=c.useTransition(),{t:E}=bo(),I=c.useRef(null),P=c.useRef(null);c.useImperativeHandle(f,()=>I.current);const g=e!==void 0,A=r!==void 0,R=Array.isArray(e),D=R?[]:"",[M,w]=c.useState(r||""),V=c.useDeferredValue(M),[z,B]=c.useState(D),d=A?r:M,y=g?e:z,_=K=>{!o.filter(de=>!de.disabled).find(de=>R?K==null?void 0:K.includes(de.value):de.value===K)&&l&&K&&l(K),g||B(K||D),t&&t(K),w("")},x=K=>{w(K),n&&n(K)},k=c.useMemo(()=>A?[]:go(o,V,{keys:["label"]}),[o,V,A]),L=c.useRef(new IntersectionObserver(K=>{K[0].isIntersecting&&(i==null||i())},{threshold:1})),v=c.useCallback(K=>{a||(L.current&&L.current.disconnect(),K&&L.current.observe(K))},[a]),j=K=>{K||w(""),b(K)},te=(y==null?void 0:y.length)>0&&R,ae=te&&!d&&!S,ne=!R&&!S,re=(be=o.find(K=>K.value===y))==null?void 0:be.label,ve=ae||S,Fe=c.useMemo(()=>{if(!Array.isArray(y))return Gn+Xn;const xe=y.length.toString().length;return Gn+xe*Xn},[y]),le=c.useMemo(()=>A?o:k,[k,o,A]);return O.jsxs(Ns,{open:S,setOpen:j,selectedValue:y,setSelectedValue:K=>_(K),value:M,setValue:K=>{F(()=>x(K))},children:[O.jsxs("div",{className:nt("relative flex cursor-pointer items-center gap-x-2 overflow-hidden","h-8 w-full rounded-md","bg-ui-bg-field transition-fg shadow-borders-base","has-[input:focus]:shadow-borders-interactive-with-active","has-[:invalid]:shadow-borders-error has-[[aria-invalid=true]]:shadow-borders-error","has-[:disabled]:bg-ui-bg-disabled has-[:disabled]:text-ui-fg-disabled has-[:disabled]:cursor-not-allowed",u),style:{"--tag-width":`${Fe}px`},children:[te&&O.jsxs("button",{type:"button",onClick:K=>{K.preventDefault(),_(void 0)},className:"bg-ui-bg-base hover:bg-ui-bg-base-hover txt-compact-small-plus text-ui-fg-subtle focus-within:border-ui-fg-interactive transition-fg absolute left-0.5 top-0.5 z-[1] flex h-[28px] items-center rounded-[4px] border py-[3px] pl-1.5 pr-1 outline-none",children:[O.jsx("span",{className:"tabular-nums",children:y.length}),O.jsx(So,{className:"text-ui-fg-muted"})]}),O.jsxs("div",{className:"relative flex size-full items-center",children:[ae&&O.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:O.jsx(ht,{size:"small",leading:"compact",children:E("general.selected")})}),ne&&O.jsx("div",{className:nt("pointer-events-none absolute inset-y-0 flex size-full items-center overflow-hidden",{"left-[calc(var(--tag-width)+8px)]":te,"left-2":!te}),children:O.jsx(ht,{size:"small",leading:"compact",className:"truncate",children:re})}),O.jsx(Vs,{autoSelect:!0,ref:I,onFocus:()=>b(!0),className:nt("txt-compact-small text-ui-fg-base !placeholder:text-ui-fg-muted transition-fg size-full cursor-pointer bg-transparent pl-2 pr-8 outline-none focus:cursor-text","hover:bg-ui-bg-field-hover",{"opacity-0":ne,"pl-2":!te,"pl-[calc(var(--tag-width)+8px)]":te}),placeholder:ve?void 0:s,...p})]}),O.jsx(Us,{render:K=>O.jsx("button",{...K,type:"button",className:"text-ui-fg-muted transition-fg hover:bg-ui-bg-field-hover absolute right-0 flex size-8 items-center justify-center rounded-r outline-none",children:O.jsx(yo,{})})})]}),O.jsxs(va,{gutter:4,sameWidth:!0,ref:P,role:"listbox",className:nt("shadow-elevation-flyout bg-ui-bg-base z-50 rounded-[8px] p-1","max-h-[200px] overflow-y-auto","data-[state=open]:animate-in data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95","data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2"),style:{pointerEvents:S?"auto":"none"},"aria-busy":h,children:[le.map(({value:K,label:xe,disabled:de})=>O.jsxs(Ln,{value:K,focusOnHover:!0,setValueOnClick:!1,disabled:de,className:nt("transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1",{"text-ui-fg-disabled":de,"bg-ui-bg-component":de}),children:[O.jsx(Qs,{className:"flex !size-5 items-center justify-center",children:R?O.jsx(ho,{}):O.jsx(xo,{})}),O.jsx(si,{className:"txt-compact-small",children:xe})]},K)),!!i&&O.jsx("div",{ref:v,className:"w-px"}),a&&O.jsx("div",{className:"transition-fg bg-ui-bg-base flex items-center rounded-[4px] px-2 py-1.5",children:O.jsx("div",{className:"bg-ui-bg-component size-full h-5 w-full animate-pulse rounded-[4px]"})}),!le.length&&(m&&!(d!=null&&d.length)?m:O.jsx("div",{className:"flex items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:O.jsx(ht,{size:"small",leading:"compact",className:"text-ui-fg-subtle",children:E("general.noResultsTitle")})})),!le.length&&l&&O.jsxs(c.Fragment,{children:[O.jsx(ha,{className:"bg-ui-border-base -mx-1"}),O.jsxs(Ln,{value:M,focusOnHover:!0,setValueOnClick:!1,className:"transition-fg bg-ui-bg-base data-[active-item=true]:bg-ui-bg-base-hover group mt-1 flex cursor-pointer items-center gap-x-2 rounded-[4px] px-2 py-1.5",children:[O.jsx(Eo,{className:"text-ui-fg-subtle"}),O.jsxs(ht,{size:"small",leading:"compact",children:[E("actions.create"),' "',d,'"']})]})]})]})]})},Pa=xa(Sa);export{Pa as C};
